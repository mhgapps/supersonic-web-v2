{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/ConversationOptionsDropdown.tsx"],"sourcesContent":["// src/app/ask-ali/ConversationOptionsDropdown.tsx\n\nimport React from 'react';\n\ninterface ConversationOptionsDropdownProps {\n  onEdit: () => void;\n  onDelete: () => void;\n}\n\nconst ConversationOptionsDropdown: React.FC<ConversationOptionsDropdownProps> = ({ onEdit, onDelete }) => {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: '100%',\n        right: 0,\n        backgroundColor: 'var(--dropdown-bg)', // Ensure --dropdown-bg is defined in your globals.css\n        padding: 15,\n        border: '1px solid var(--secondary-background-color)',\n        borderRadius: 15,\n        boxShadow: '0 2px 6px rgba(0,0,0,0.15)',\n        zIndex: 10,\n      }}\n    >\n      <button\n        onClick={(e) => {\n          e.stopPropagation();\n          onEdit();\n        }}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8,\n          padding: '4px 8px',\n          background: 'none',\n          border: 'none',\n          width: '100%',\n          cursor: 'pointer',\n          color: 'var(--foreground)',\n          fontSize: 12,\n        }}\n      >\n        <i className=\"fa-solid fa-pen\" style={{ fontSize: 12 }}></i> Rename\n      </button>\n      <button\n        onClick={(e) => {\n          e.stopPropagation();\n          onDelete();\n        }}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8,\n          padding: '4px 8px',\n          background: 'none',\n          border: 'none',\n          width: '100%',\n          cursor: 'pointer',\n          color: 'var(--foreground)',\n          fontSize: 12,\n        }}\n      >\n        <i className=\"fa-solid fa-trash\" style={{ fontSize: 12 }}></i> Delete\n      </button>\n    </div>\n  );\n};\n\nexport default ConversationOptionsDropdown;"],"names":[],"mappings":"AAAA,kDAAkD;;;;;;AASlD,MAAM,8BAA0E,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE;IACnG,qBACE,6LAAC;QACC,OAAO;YACL,UAAU;YACV,KAAK;YACL,OAAO;YACP,iBAAiB;YACjB,SAAS;YACT,QAAQ;YACR,cAAc;YACd,WAAW;YACX,QAAQ;QACV;;0BAEA,6LAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB;gBACF;gBACA,OAAO;oBACL,SAAS;oBACT,YAAY;oBACZ,KAAK;oBACL,SAAS;oBACT,YAAY;oBACZ,QAAQ;oBACR,OAAO;oBACP,QAAQ;oBACR,OAAO;oBACP,UAAU;gBACZ;;kCAEA,6LAAC;wBAAE,WAAU;wBAAkB,OAAO;4BAAE,UAAU;wBAAG;;;;;;oBAAO;;;;;;;0BAE9D,6LAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB;gBACF;gBACA,OAAO;oBACL,SAAS;oBACT,YAAY;oBACZ,KAAK;oBACL,SAAS;oBACT,YAAY;oBACZ,QAAQ;oBACR,OAAO;oBACP,QAAQ;oBACR,OAAO;oBACP,UAAU;gBACZ;;kCAEA,6LAAC;wBAAE,WAAU;wBAAoB,OAAO;4BAAE,UAAU;wBAAG;;;;;;oBAAO;;;;;;;;;;;;;AAItE;KAzDM;uCA2DS"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/RenamePopup.tsx"],"sourcesContent":["// src/app/ask-ali/RenamePopup.tsx\n\nimport React, { useState, useEffect, useRef } from 'react';\n\ninterface RenamePopupProps {\n  initialTitle: string;\n  onSave: (newTitle: string) => void;\n  onCancel: () => void;\n  // Optional: You can pass position offsets if desired.\n  topOffset?: number;\n  leftOffset?: number;\n}\n\nconst RenamePopup: React.FC<RenamePopupProps> = ({\n  initialTitle,\n  onSave,\n  onCancel,\n  topOffset = 100,   // Adjust this value as needed to position the popup vertically\n  leftOffset = 50,   // Adjust this value as needed to position the popup horizontally\n}) => {\n  const [newTitle, setNewTitle] = useState(initialTitle);\n  const popupRef = useRef<HTMLDivElement>(null);\n\n  // Optionally, focus the textarea when the popup opens.\n  useEffect(() => {\n    popupRef.current?.querySelector('textarea')?.focus();\n  }, []);\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: topOffset,\n        left: leftOffset,\n        backgroundColor: 'var(--background)',\n        padding: '16px',\n        border: '1px solid var(--secondary-background-color)',\n        borderRadius: '8px',\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        zIndex: 1000,\n      }}\n      ref={popupRef}\n    >\n      <h3 style={{ margin: '0 0 12px 0', fontSize: 16 }}>Rename Conversation</h3>\n      <textarea\n        value={newTitle}\n        onChange={(e) => setNewTitle(e.target.value)}\n        rows={2}\n        style={{\n          width: '100%',\n          padding: '8px',\n          borderRadius: '4px',\n          border: '1px solid #ccc',\n          fontSize: 14,\n          resize: 'vertical',\n          color: 'var(--foreground)',\n          backgroundColor: 'var(--input-bg)',\n        }}\n      />\n      <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '8px', marginTop: '12px' }}>\n        <button\n          onClick={onCancel}\n          style={{\n            padding: '8px 12px',\n            border: 'none',\n            borderRadius: '4px',\n            backgroundColor: '#ccc',\n            color: '#000',\n            cursor: 'pointer',\n            fontSize: 14,\n          }}\n        >\n          Cancel\n        </button>\n        <button\n          onClick={() => onSave(newTitle)}\n          style={{\n            padding: '8px 12px',\n            border: 'none',\n            borderRadius: '4px',\n            backgroundColor: 'var(--primary-color)',\n            color: 'var(--background)',\n            cursor: 'pointer',\n            fontSize: 14,\n          }}\n        >\n          Save\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default RenamePopup;"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAElC;;;;AAWA,MAAM,cAA0C,CAAC,EAC/C,YAAY,EACZ,MAAM,EACN,QAAQ,EACR,YAAY,GAAG,EACf,aAAa,EAAE,EAChB;;IACC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAExC,uDAAuD;IACvD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,SAAS,OAAO,EAAE,cAAc,aAAa;QAC/C;gCAAG,EAAE;IAEL,qBACE,6LAAC;QACC,OAAO;YACL,UAAU;YACV,KAAK;YACL,MAAM;YACN,iBAAiB;YACjB,SAAS;YACT,QAAQ;YACR,cAAc;YACd,WAAW;YACX,QAAQ;QACV;QACA,KAAK;;0BAEL,6LAAC;gBAAG,OAAO;oBAAE,QAAQ;oBAAc,UAAU;gBAAG;0BAAG;;;;;;0BACnD,6LAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gBAC3C,MAAM;gBACN,OAAO;oBACL,OAAO;oBACP,SAAS;oBACT,cAAc;oBACd,QAAQ;oBACR,UAAU;oBACV,QAAQ;oBACR,OAAO;oBACP,iBAAiB;gBACnB;;;;;;0BAEF,6LAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,gBAAgB;oBAAY,KAAK;oBAAO,WAAW;gBAAO;;kCACvF,6LAAC;wBACC,SAAS;wBACT,OAAO;4BACL,SAAS;4BACT,QAAQ;4BACR,cAAc;4BACd,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,UAAU;wBACZ;kCACD;;;;;;kCAGD,6LAAC;wBACC,SAAS,IAAM,OAAO;wBACtB,OAAO;4BACL,SAAS;4BACT,QAAQ;4BACR,cAAc;4BACd,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,UAAU;wBACZ;kCACD;;;;;;;;;;;;;;;;;;AAMT;GA9EM;KAAA;uCAgFS"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/ConversationHistory.tsx"],"sourcesContent":["// src/app/ask-ali/ConversationHistory.tsx\n\nimport React, { ChangeEvent, KeyboardEvent, useState, useEffect, useRef } from 'react';\nimport ConversationOptionsDropdown from './ConversationOptionsDropdown';\nimport RenamePopup from './RenamePopup';\n\nexport interface Conversation {\n  conversationId: string;\n  title: string;\n  createdAt?: string; // Optional: timestamp from the backend\n}\n\nexport interface ConversationHistoryProps {\n  conversationList: Conversation[];\n  editingConversationId: string | null;\n  editingTitle: string;\n  onSelect: (conv: Conversation) => void;\n  onEditingStart: (conv: Conversation) => void;\n  onRename: (convId: string, newTitle: string) => void;\n  onRenameKeyDown: (e: KeyboardEvent<HTMLInputElement>, convId: string) => void;\n  onTitleChange: (newTitle: string) => void;\n  onDelete: (convId: string) => void;\n}\n\nconst ConversationHistory: React.FC<ConversationHistoryProps> = ({\n  conversationList,\n  editingConversationId,\n  editingTitle,\n  onSelect,\n  onEditingStart,\n  onRename,\n  onRenameKeyDown,\n  onTitleChange,\n  onDelete,\n}) => {\n  // State to control the dropdown for options.\n  const [openDropdownFor, setOpenDropdownFor] = useState<string | null>(null);\n  // State to control the rename popup and store which conversation is being renamed.\n  const [renamePopupOpen, setRenamePopupOpen] = useState<boolean>(false);\n  const [conversationToRename, setConversationToRename] = useState<Conversation | null>(null);\n  // Ref for the dropdown container.\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  // State for filtering conversations.\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\n  // State to control the visibility of the search popup.\n  const [searchPopupOpen, setSearchPopupOpen] = useState<boolean>(false);\n  // State to control how many conversations are visible.\n  const [visibleCount, setVisibleCount] = useState<number>(10);\n\n  // When the search term changes, reset the visible count to 10.\n  useEffect(() => {\n    setVisibleCount(10);\n  }, [searchTerm]);\n\n  // Close the dropdown when clicking outside.\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (openDropdownFor && dropdownRef.current && !dropdownRef.current.contains(e.target as Node)) {\n        setOpenDropdownFor(null);\n      }\n    };\n    document.addEventListener('click', handleClickOutside);\n    return () => document.removeEventListener('click', handleClickOutside);\n  }, [openDropdownFor]);\n\n  const toggleDropdown = (convId: string) => {\n    setOpenDropdownFor(prev => (prev === convId ? null : convId));\n  };\n\n  const handleRenameClick = (conv: Conversation) => {\n    setConversationToRename(conv);\n    setRenamePopupOpen(true);\n    setOpenDropdownFor(null);\n  };\n\n  // Sort the conversation list by createdAt (newest first) if available.\n  const sortedConversations = [...conversationList].sort((a, b) => {\n    const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n    const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n    return dateB - dateA;\n  });\n\n  // Filter the sorted list based on the search term.\n  const filteredConversations = sortedConversations.filter(conv =>\n    conv.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  // Limit the displayed conversations to visibleCount.\n  const visibleConversations = filteredConversations.slice(0, visibleCount);\n\n  return (\n    <div style={{ padding: 16, color: 'var(--foreground)', height: '100%', overflowY: 'auto', position: 'relative' }}>\n      {/* Vertical Navigation Menu */}\n      <div style={{ marginBottom: 16 }}>\n        <nav style={{ display: 'flex', flexDirection: 'column', gap: 8, fontSize: 14 }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n            <i className=\"fa-solid fa-triangle-exclamation\"></i>\n            <span>Incidents</span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n            <i className=\"fa-solid fa-chart-line\"></i>\n            <span>Reports</span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n            <i className=\"fa-solid fa-gear\"></i>\n            <span>Settings</span>\n          </div>\n        </nav>\n      </div>\n\n      {/* Header Row: Incident Chats with New Conversation and Search buttons */}\n      <div style={{ marginBottom: 16, display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n        <h3 style={{ margin: 0, fontSize: 16 }}>Incident Chats</h3>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              // When New Conversation is clicked, pass an empty conversation to the parent.\n              onSelect({ conversationId: \"\", title: \"\" });\n            }}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: 18,\n              color: 'var(--foreground)'\n            }}\n            title=\"New Conversation\"\n          >\n            <i className=\"fa-solid fa-plus\"></i>\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setSearchPopupOpen(!searchPopupOpen);\n            }}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: 18,\n              color: 'var(--foreground)'\n            }}\n            title=\"Search Chats\"\n          >\n            <i className=\"fa-solid fa-magnifying-glass\"></i>\n          </button>\n          {searchTerm && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                setSearchTerm(\"\");\n              }}\n              style={{\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n                fontSize: 18,\n                color: 'var(--foreground)'\n              }}\n              title=\"Reset Search\"\n            >\n              <i className=\"fa-solid fa-rotate-left\"></i>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Inline Search Popup: rendered as part of the normal flow so it pushes down the conversation list */}\n      {searchPopupOpen && (\n        <div\n          style={{\n            marginBottom: 16,\n            padding: 8,\n            border: '1px solid var(--secondary-background-color)',\n            borderRadius: 4,\n            backgroundColor: 'var(--background)',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 4,\n          }}\n        >\n          <input\n            type=\"text\"\n            placeholder=\"Search chats...\"\n            value={searchTerm}\n            onChange={(e: ChangeEvent<HTMLInputElement>) => setSearchTerm(e.target.value)}\n            style={{\n              padding: '4px 8px',\n              borderRadius: 4,\n              border: '1px solid var(--secondary-background-color)',\n              fontSize: 14,\n              backgroundColor: 'var(--background)',\n              color: 'var(--foreground)',\n              flex: 1,\n            }}\n          />\n          <button\n            onClick={() => setSearchPopupOpen(false)}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: 18,\n              color: 'var(--foreground)',\n            }}\n            title=\"Close Search\"\n          >\n            <i className=\"fa-solid fa-xmark\"></i>\n          </button>\n        </div>\n      )}\n\n      {/* Conversation List */}\n      <div>\n        {visibleConversations.length > 0 ? (\n          visibleConversations.map(conv => (\n            <div\n              key={conv.conversationId}\n              style={{\n                padding: 8,\n                cursor: 'pointer',\n                color: 'var(--foreground)',\n                borderBottom: '1px solid var(--secondary-background-color)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between',\n                position: 'relative',\n              }}\n              onClick={() => onSelect(conv)}\n            >\n              {/* Conversation Title (allow up to 2 lines) */}\n              <span\n                style={{\n                  fontSize: 14,\n                  flex: 1,\n                  display: '-webkit-box',\n                  WebkitLineClamp: 2,\n                  WebkitBoxOrient: 'vertical',\n                  overflow: 'hidden',\n                }}\n              >\n                {conv.title.replace(/\"/g, '')}\n              </span>\n              {/* Options Button */}\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  minWidth: 40,\n                  justifyContent: 'center',\n                }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  toggleDropdown(conv.conversationId);\n                }}\n                ref={dropdownRef}\n              >\n                <button\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    padding: 6,\n                    color: 'var(--foreground)',\n                  }}\n                  title=\"Options\"\n                >\n                  <i className=\"fa-solid fa-ellipsis-h\"></i>\n                </button>\n                {openDropdownFor === conv.conversationId && (\n                  <ConversationOptionsDropdown\n                    onEdit={() => handleRenameClick(conv)}\n                    onDelete={() => {\n                      if (window.confirm(\"Are you sure you want to delete this conversation?\")) {\n                        onDelete(conv.conversationId);\n                        setOpenDropdownFor(null);\n                      }\n                    }}\n                  />\n                )}\n              </div>\n            </div>\n          ))\n        ) : (\n          <p>No chats found.</p>\n        )}\n      </div>\n\n      {/* Load More Button */}\n      {filteredConversations.length > visibleCount && (\n        <div style={{ textAlign: 'center', marginTop: 16 }}>\n          <button\n            onClick={() => setVisibleCount(visibleCount + 20)}\n            style={{\n              background: 'none',\n              border: '1px solid var(--secondary-background-color)',\n              borderRadius: 4,\n              padding: '4px 8px',\n              cursor: 'pointer',\n              fontSize: 14,\n              color: 'var(--foreground)'\n            }}\n          >\n            Load More\n          </button>\n        </div>\n      )}\n\n      {renamePopupOpen && conversationToRename && (\n        <RenamePopup\n          initialTitle={conversationToRename.title}\n          onSave={(newTitle: string) => {\n            onRename(conversationToRename.conversationId, newTitle);\n            setRenamePopupOpen(false);\n            setConversationToRename(null);\n          }}\n          onCancel={() => {\n            setRenamePopupOpen(false);\n            setConversationToRename(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ConversationHistory;"],"names":[],"mappings":"AAAA,0CAA0C;;;;;AAE1C;AACA;AACA;;;;;;AAoBA,MAAM,sBAA0D,CAAC,EAC/D,gBAAgB,EAChB,qBAAqB,EACrB,YAAY,EACZ,QAAQ,EACR,cAAc,EACd,QAAQ,EACR,eAAe,EACf,aAAa,EACb,QAAQ,EACT;;IACC,6CAA6C;IAC7C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACtE,mFAAmF;IACnF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAChE,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB;IACtF,kCAAkC;IAClC,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAC3C,qCAAqC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACrD,uDAAuD;IACvD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAChE,uDAAuD;IACvD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAEzD,+DAA+D;IAC/D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;yCAAE;YACR,gBAAgB;QAClB;wCAAG;QAAC;KAAW;IAEf,4CAA4C;IAC5C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;yCAAE;YACR,MAAM;oEAAqB,CAAC;oBAC1B,IAAI,mBAAmB,YAAY,OAAO,IAAI,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAW;wBAC7F,mBAAmB;oBACrB;gBACF;;YACA,SAAS,gBAAgB,CAAC,SAAS;YACnC;iDAAO,IAAM,SAAS,mBAAmB,CAAC,SAAS;;QACrD;wCAAG;QAAC;KAAgB;IAEpB,MAAM,iBAAiB,CAAC;QACtB,mBAAmB,CAAA,OAAS,SAAS,SAAS,OAAO;IACvD;IAEA,MAAM,oBAAoB,CAAC;QACzB,wBAAwB;QACxB,mBAAmB;QACnB,mBAAmB;IACrB;IAEA,uEAAuE;IACvE,MAAM,sBAAsB;WAAI;KAAiB,CAAC,IAAI,CAAC,CAAC,GAAG;QACzD,MAAM,QAAQ,EAAE,SAAS,GAAG,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK;QAC9D,MAAM,QAAQ,EAAE,SAAS,GAAG,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK;QAC9D,OAAO,QAAQ;IACjB;IAEA,mDAAmD;IACnD,MAAM,wBAAwB,oBAAoB,MAAM,CAAC,CAAA,OACvD,KAAK,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAG1D,qDAAqD;IACrD,MAAM,uBAAuB,sBAAsB,KAAK,CAAC,GAAG;IAE5D,qBACE,6LAAC;QAAI,OAAO;YAAE,SAAS;YAAI,OAAO;YAAqB,QAAQ;YAAQ,WAAW;YAAQ,UAAU;QAAW;;0BAE7G,6LAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAG;0BAC7B,cAAA,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,eAAe;wBAAU,KAAK;wBAAG,UAAU;oBAAG;;sCAC3E,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,YAAY;gCAAU,KAAK;gCAAG,QAAQ;4BAAU;;8CAC7E,6LAAC;oCAAE,WAAU;;;;;;8CACb,6LAAC;8CAAK;;;;;;;;;;;;sCAER,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,YAAY;gCAAU,KAAK;gCAAG,QAAQ;4BAAU;;8CAC7E,6LAAC;oCAAE,WAAU;;;;;;8CACb,6LAAC;8CAAK;;;;;;;;;;;;sCAER,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,YAAY;gCAAU,KAAK;gCAAG,QAAQ;4BAAU;;8CAC7E,6LAAC;oCAAE,WAAU;;;;;;8CACb,6LAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;0BAMZ,6LAAC;gBAAI,OAAO;oBAAE,cAAc;oBAAI,SAAS;oBAAQ,YAAY;oBAAU,gBAAgB;gBAAgB;;kCACrG,6LAAC;wBAAG,OAAO;4BAAE,QAAQ;4BAAG,UAAU;wBAAG;kCAAG;;;;;;kCACxC,6LAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,YAAY;4BAAU,KAAK;wBAAE;;0CAC1D,6LAAC;gCACC,SAAS,CAAC;oCACR,EAAE,eAAe;oCACjB,8EAA8E;oCAC9E,SAAS;wCAAE,gBAAgB;wCAAI,OAAO;oCAAG;gCAC3C;gCACA,OAAO;oCACL,YAAY;oCACZ,QAAQ;oCACR,QAAQ;oCACR,UAAU;oCACV,OAAO;gCACT;gCACA,OAAM;0CAEN,cAAA,6LAAC;oCAAE,WAAU;;;;;;;;;;;0CAEf,6LAAC;gCACC,SAAS,CAAC;oCACR,EAAE,eAAe;oCACjB,mBAAmB,CAAC;gCACtB;gCACA,OAAO;oCACL,YAAY;oCACZ,QAAQ;oCACR,QAAQ;oCACR,UAAU;oCACV,OAAO;gCACT;gCACA,OAAM;0CAEN,cAAA,6LAAC;oCAAE,WAAU;;;;;;;;;;;4BAEd,4BACC,6LAAC;gCACC,SAAS,CAAC;oCACR,EAAE,eAAe;oCACjB,cAAc;gCAChB;gCACA,OAAO;oCACL,YAAY;oCACZ,QAAQ;oCACR,QAAQ;oCACR,UAAU;oCACV,OAAO;gCACT;gCACA,OAAM;0CAEN,cAAA,6LAAC;oCAAE,WAAU;;;;;;;;;;;;;;;;;;;;;;;YAOpB,iCACC,6LAAC;gBACC,OAAO;oBACL,cAAc;oBACd,SAAS;oBACT,QAAQ;oBACR,cAAc;oBACd,iBAAiB;oBACjB,SAAS;oBACT,YAAY;oBACZ,KAAK;gBACP;;kCAEA,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAqC,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC5E,OAAO;4BACL,SAAS;4BACT,cAAc;4BACd,QAAQ;4BACR,UAAU;4BACV,iBAAiB;4BACjB,OAAO;4BACP,MAAM;wBACR;;;;;;kCAEF,6LAAC;wBACC,SAAS,IAAM,mBAAmB;wBAClC,OAAO;4BACL,YAAY;4BACZ,QAAQ;4BACR,QAAQ;4BACR,UAAU;4BACV,OAAO;wBACT;wBACA,OAAM;kCAEN,cAAA,6LAAC;4BAAE,WAAU;;;;;;;;;;;;;;;;;0BAMnB,6LAAC;0BACE,qBAAqB,MAAM,GAAG,IAC7B,qBAAqB,GAAG,CAAC,CAAA,qBACvB,6LAAC;wBAEC,OAAO;4BACL,SAAS;4BACT,QAAQ;4BACR,OAAO;4BACP,cAAc;4BACd,SAAS;4BACT,YAAY;4BACZ,gBAAgB;4BAChB,UAAU;wBACZ;wBACA,SAAS,IAAM,SAAS;;0CAGxB,6LAAC;gCACC,OAAO;oCACL,UAAU;oCACV,MAAM;oCACN,SAAS;oCACT,iBAAiB;oCACjB,iBAAiB;oCACjB,UAAU;gCACZ;0CAEC,KAAK,KAAK,CAAC,OAAO,CAAC,MAAM;;;;;;0CAG5B,6LAAC;gCACC,OAAO;oCACL,SAAS;oCACT,YAAY;oCACZ,UAAU;oCACV,gBAAgB;gCAClB;gCACA,SAAS,CAAC;oCACR,EAAE,eAAe;oCACjB,eAAe,KAAK,cAAc;gCACpC;gCACA,KAAK;;kDAEL,6LAAC;wCACC,OAAO;4CACL,YAAY;4CACZ,QAAQ;4CACR,QAAQ;4CACR,SAAS;4CACT,OAAO;wCACT;wCACA,OAAM;kDAEN,cAAA,6LAAC;4CAAE,WAAU;;;;;;;;;;;oCAEd,oBAAoB,KAAK,cAAc,kBACtC,6LAAC,2JAAA,CAAA,UAA2B;wCAC1B,QAAQ,IAAM,kBAAkB;wCAChC,UAAU;4CACR,IAAI,OAAO,OAAO,CAAC,uDAAuD;gDACxE,SAAS,KAAK,cAAc;gDAC5B,mBAAmB;4CACrB;wCACF;;;;;;;;;;;;;uBA5DD,KAAK,cAAc;;;;8CAmE5B,6LAAC;8BAAE;;;;;;;;;;;YAKN,sBAAsB,MAAM,GAAG,8BAC9B,6LAAC;gBAAI,OAAO;oBAAE,WAAW;oBAAU,WAAW;gBAAG;0BAC/C,cAAA,6LAAC;oBACC,SAAS,IAAM,gBAAgB,eAAe;oBAC9C,OAAO;wBACL,YAAY;wBACZ,QAAQ;wBACR,cAAc;wBACd,SAAS;wBACT,QAAQ;wBACR,UAAU;wBACV,OAAO;oBACT;8BACD;;;;;;;;;;;YAMJ,mBAAmB,sCAClB,6LAAC,2IAAA,CAAA,UAAW;gBACV,cAAc,qBAAqB,KAAK;gBACxC,QAAQ,CAAC;oBACP,SAAS,qBAAqB,cAAc,EAAE;oBAC9C,mBAAmB;oBACnB,wBAAwB;gBAC1B;gBACA,UAAU;oBACR,mBAAmB;oBACnB,wBAAwB;gBAC1B;;;;;;;;;;;;AAKV;GA7SM;KAAA;uCA+SS"}},
    {"offset": {"line": 772, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/MessageInput.tsx"],"sourcesContent":["// src/app/ask-ali/MessageInput.tsx\n\nimport React, { useRef, useEffect, ChangeEvent } from 'react';\n\ninterface MessageInputProps {\n  messageText: string;\n  setMessageText: (text: string) => void;\n  isProcessing: boolean;\n  onSend: () => void;\n  stop: () => void;\n}\n\nconst MessageInput: React.FC<MessageInputProps> = ({\n  messageText,\n  setMessageText,\n  isProcessing,\n  onSend,\n  stop,\n}) => {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  // Auto-resize effect whenever messageText changes.\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  }, [messageText]);\n\n  return (\n    <div style={{ width: '100%', maxWidth: 800, padding: 16, margin: '0 auto' }}>\n      <div\n        style={{\n          backgroundColor: 'var(--input-bg)',\n          borderRadius: 12,\n          padding: 12,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 8,\n        }}\n      >\n        <textarea\n          ref={textareaRef}\n          value={messageText}\n          onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setMessageText(e.target.value)}\n          placeholder=\"Ask ALI anything...\"\n          style={{\n            width: '100%',\n            minHeight: 40,\n            maxHeight: 288,\n            border: 'none',\n            resize: 'vertical',\n            outline: 'none',\n            backgroundColor: 'transparent',\n            color: 'var(--input-text-color)',\n            fontSize: 16,\n            lineHeight: '1.5',\n          }}\n        />\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <div style={{ display: 'flex', gap: 16 }}>\n            <button\n              onClick={() => { console.log(\"Attachment clicked\"); alert('Attachment placeholder'); }}\n              style={{\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n            >\n              <i className=\"fa-solid fa-paperclip\" style={{ fontSize: 16, color: \"var(--icon-color)\" }}></i>\n            </button>\n            <button\n              onClick={() => { console.log(\"Camera clicked\"); alert('Camera placeholder'); }}\n              style={{\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n            >\n              <i className=\"fa-solid fa-camera\" style={{ fontSize: 16, color: \"var(--icon-color)\" }}></i>\n            </button>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n            <button\n              onClick={() => { console.log(\"Microphone clicked\"); alert('Audio recording placeholder'); }}\n              style={{\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n            >\n              <i className=\"fa-solid fa-microphone\" style={{ fontSize: 16, color: \"var(--icon-color)\" }}></i>\n            </button>\n            <button\n              onClick={isProcessing ? stop : onSend}\n              style={{\n                width: 40,\n                height: 40,\n                borderRadius: '50%',\n                backgroundColor: '#000',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'pointer',\n                border: 'none',\n              }}\n            >\n              <i\n                className={isProcessing ? \"fa-solid fa-stop\" : \"fa-solid fa-arrow-up\"}\n                style={{ color: '#fff', fontSize: 16 }}\n              ></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageInput;"],"names":[],"mappings":"AAAA,mCAAmC;;;;;AAEnC;;;;AAUA,MAAM,eAA4C,CAAC,EACjD,WAAW,EACX,cAAc,EACd,YAAY,EACZ,MAAM,EACN,IAAI,EACL;;IACC,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAuB;IAEhD,mDAAmD;IACnD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,YAAY,OAAO,EAAE;gBACvB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;gBACnC,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,YAAY,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;YAC5E;QACF;iCAAG;QAAC;KAAY;IAEhB,qBACE,6LAAC;QAAI,OAAO;YAAE,OAAO;YAAQ,UAAU;YAAK,SAAS;YAAI,QAAQ;QAAS;kBACxE,cAAA,6LAAC;YACC,OAAO;gBACL,iBAAiB;gBACjB,cAAc;gBACd,SAAS;gBACT,SAAS;gBACT,eAAe;gBACf,KAAK;YACP;;8BAEA,6LAAC;oBACC,KAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAwC,eAAe,EAAE,MAAM,CAAC,KAAK;oBAChF,aAAY;oBACZ,OAAO;wBACL,OAAO;wBACP,WAAW;wBACX,WAAW;wBACX,QAAQ;wBACR,QAAQ;wBACR,SAAS;wBACT,iBAAiB;wBACjB,OAAO;wBACP,UAAU;wBACV,YAAY;oBACd;;;;;;8BAEF,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,gBAAgB;wBAAiB,YAAY;oBAAS;;sCACnF,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,KAAK;4BAAG;;8CACrC,6LAAC;oCACC,SAAS;wCAAQ,QAAQ,GAAG,CAAC;wCAAuB,MAAM;oCAA2B;oCACrF,OAAO;wCACL,YAAY;wCACZ,QAAQ;wCACR,QAAQ;oCACV;8CAEA,cAAA,6LAAC;wCAAE,WAAU;wCAAwB,OAAO;4CAAE,UAAU;4CAAI,OAAO;wCAAoB;;;;;;;;;;;8CAEzF,6LAAC;oCACC,SAAS;wCAAQ,QAAQ,GAAG,CAAC;wCAAmB,MAAM;oCAAuB;oCAC7E,OAAO;wCACL,YAAY;wCACZ,QAAQ;wCACR,QAAQ;oCACV;8CAEA,cAAA,6LAAC;wCAAE,WAAU;wCAAqB,OAAO;4CAAE,UAAU;4CAAI,OAAO;wCAAoB;;;;;;;;;;;;;;;;;sCAGxF,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,YAAY;gCAAU,KAAK;4BAAE;;8CAC1D,6LAAC;oCACC,SAAS;wCAAQ,QAAQ,GAAG,CAAC;wCAAuB,MAAM;oCAAgC;oCAC1F,OAAO;wCACL,YAAY;wCACZ,QAAQ;wCACR,QAAQ;oCACV;8CAEA,cAAA,6LAAC;wCAAE,WAAU;wCAAyB,OAAO;4CAAE,UAAU;4CAAI,OAAO;wCAAoB;;;;;;;;;;;8CAE1F,6LAAC;oCACC,SAAS,eAAe,OAAO;oCAC/B,OAAO;wCACL,OAAO;wCACP,QAAQ;wCACR,cAAc;wCACd,iBAAiB;wCACjB,SAAS;wCACT,YAAY;wCACZ,gBAAgB;wCAChB,QAAQ;wCACR,QAAQ;oCACV;8CAEA,cAAA,6LAAC;wCACC,WAAW,eAAe,qBAAqB;wCAC/C,OAAO;4CAAE,OAAO;4CAAQ,UAAU;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrD;GAzGM;KAAA;uCA2GS"}},
    {"offset": {"line": 1005, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1011, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/OptionButtons.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\n\ninterface OptionButtonsProps {\n  options: string[];\n  onSelected: (selection: string) => void;\n  darkMode?: boolean; // optional prop for dark mode styling\n}\n\nconst OptionButtons: React.FC<OptionButtonsProps> = ({\n  options,\n  onSelected,\n  darkMode = false\n}) => {\n  // Decide whether to show inline or popup\n  const usePopupMultiSelect = options.length > 4;\n\n  // For small sets, show inline buttons\n  if (!usePopupMultiSelect) {\n    return (\n      <div style={{ marginTop: 8 }}>\n        {options.map((opt, index) => (\n          <button\n            key={index}\n            onClick={() => onSelected(opt)}\n            style={{\n              marginRight: 8,\n              padding: \"6px 12px\",\n              borderRadius: \"20px\",\n              border: \"1px solid\",\n              borderColor: darkMode ? \"#666\" : \"#ccc\",\n              backgroundColor: \"transparent\",\n              color: darkMode ? \"#fff\" : \"#171717\",\n              cursor: \"pointer\"\n            }}\n          >\n            {opt}\n          </button>\n        ))}\n      </div>\n    );\n  }\n\n  // For larger sets, show popup overlay with multi-select checkboxes\n  const [showOverlay, setShowOverlay] = useState(false);\n  const [selected, setSelected] = useState<string[]>([]);\n\n  const toggleSelection = (option: string) => {\n    setSelected((prev) =>\n      prev.includes(option) ? prev.filter((o) => o !== option) : [...prev, option]\n    );\n  };\n\n  const handleConfirm = () => {\n    // Combine selected items into a single string (adjust if needed)\n    if (selected.length > 0) {\n      onSelected(selected.join(\", \"));\n    }\n    setShowOverlay(false);\n  };\n\n  const handleCancel = () => {\n    setSelected([]);\n    setShowOverlay(false);\n  };\n\n  return (\n    <div style={{ marginTop: 8 }}>\n      <button\n        onClick={() => setShowOverlay(true)}\n        style={{\n          padding: \"6px 12px\",\n          borderRadius: \"20px\",\n          border: \"1px solid\",\n          borderColor: darkMode ? \"#666\" : \"#ccc\",\n          backgroundColor: \"transparent\",\n          color: darkMode ? \"#fff\" : \"#171717\",\n          cursor: \"pointer\"\n        }}\n      >\n        Select Options\n      </button>\n\n      {showOverlay && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"rgba(0,0,0,0.5)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            zIndex: 9999\n          }}\n        >\n          <div\n            style={{\n              backgroundColor: darkMode ? \"#333\" : \"#fff\",\n              borderRadius: 8,\n              padding: 16,\n              width: 400,\n              maxWidth: \"90%\"\n            }}\n          >\n            <h3\n              style={{\n                marginTop: 0,\n                marginBottom: 12,\n                color: darkMode ? \"#fff\" : \"#171717\"\n              }}\n            >\n              Select Options\n            </h3>\n\n            {/* Two-column scrollable grid for checkboxes */}\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                gap: 8,\n                maxHeight: 300,\n                overflowY: \"auto\",\n                marginBottom: 12\n              }}\n            >\n              {options.map((opt, index) => {\n                const checked = selected.includes(opt);\n                return (\n                  <label\n                    key={index}\n                    style={{\n                      cursor: \"pointer\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      color: darkMode ? \"#fff\" : \"#171717\"\n                    }}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={checked}\n                      onChange={() => toggleSelection(opt)}\n                      style={{ marginRight: 6 }}\n                    />\n                    {opt}\n                  </label>\n                );\n              })}\n            </div>\n\n            {/* Buttons row */}\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8 }}>\n              <button\n                onClick={handleCancel}\n                style={{\n                  padding: \"6px 12px\",\n                  borderRadius: \"20px\",\n                  border: \"1px solid\",\n                  borderColor: darkMode ? \"#666\" : \"#ccc\",\n                  backgroundColor: \"transparent\",\n                  color: darkMode ? \"#fff\" : \"#171717\",\n                  cursor: \"pointer\"\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleConfirm}\n                style={{\n                  padding: \"6px 12px\",\n                  borderRadius: \"20px\",\n                  border: \"1px solid\",\n                  borderColor: darkMode ? \"#666\" : \"#ccc\",\n                  backgroundColor: \"transparent\",\n                  color: darkMode ? \"#fff\" : \"#171717\",\n                  cursor: \"pointer\"\n                }}\n              >\n                Confirm\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OptionButtons;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1247, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1253, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {\n  useState,\n  useEffect,\n  useRef,\n  ChangeEvent,\n  KeyboardEvent,\n} from \"react\";\nimport Head from \"next/head\";\nimport ReactMarkdown from \"react-markdown\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport ConversationHistory, { Conversation } from \"./ConversationHistory\";\nimport MessageInput from \"./MessageInput\";\nimport OptionButtons from \"./OptionButtons\";\n\ninterface Message {\n  role: \"user\" | \"ali\";\n  text: string;\n  options?: string[];\n}\n\n// For employees\ninterface Employee {\n  id: string;\n  name: string;\n  // add other fields as needed\n}\n\n// ----------------------\n// API Endpoint\n// ----------------------\nconst conversationApiUrl = \"https://sem28c4rii.execute-api.us-east-1.amazonaws.com\";\nconst employeesApiUrl = \"https://nxojz8wgwi.execute-api.us-east-1.amazonaws.com/all-employees\";\n\n// ----------------------\n// ALI Response Helpers\n// ----------------------\nfunction trimTrailingAsterisks(text: string) {\n  return text.replace(/\\*+$/, \"\").trim();\n}\nfunction convertRelativeDates(text: string) {\n  const now = new Date();\n  if (text.toLowerCase().includes(\"yesterday\")) {\n    const yesterday = new Date();\n    yesterday.setDate(now.getDate() - 1);\n    const formatted = yesterday.toLocaleDateString(\"en-US\", {\n      month: \"long\",\n      day: \"2-digit\",\n      year: \"numeric\",\n    });\n    text = text.replace(/yesterday/gi, formatted);\n  }\n  if (text.toLowerCase().includes(\"last friday\")) {\n    const dayOfWeek = now.getDay();\n    const daysToSubtract = dayOfWeek >= 5 ? dayOfWeek - 5 : dayOfWeek + 2;\n    const lastFriday = new Date();\n    lastFriday.setDate(now.getDate() - daysToSubtract);\n    const formatted = lastFriday.toLocaleDateString(\"en-US\", {\n      month: \"long\",\n      day: \"2-digit\",\n      year: \"numeric\",\n    });\n    text = text.replace(/last friday/gi, formatted);\n  }\n  return text;\n}\nfunction processAliResponse(response: string) {\n  let processed = response.replace(\"Thank you for providing the time.\", \"\").trim();\n  processed = convertRelativeDates(processed);\n  if (processed.includes(\"OPTIONS:\")) {\n    const parts = processed.split(\"OPTIONS:\");\n    const mainMessage = parts[0].trim();\n    const optionsPart = parts[1].trim();\n    const options = optionsPart.split(\"|\").map((opt) => opt.trim());\n    return { text: trimTrailingAsterisks(mainMessage), options };\n  }\n  return { text: trimTrailingAsterisks(processed), options: [] };\n}\n\n// ----------------------\n// AskAli Page\n// ----------------------\nconst AskAli: React.FC = () => {\n  // Dark Mode\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Conversation Info\n  const [conversationId, setConversationId] = useState<string>(() => {\n    if (typeof window !== \"undefined\") {\n      return localStorage.getItem(\"conversationId\") || \"\";\n    }\n    return \"\";\n  });\n\n  // Chat messages\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [messageText, setMessageText] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  // Conversation List & Editing\n  const [conversationList, setConversationList] = useState<Conversation[]>([]);\n  const [editingConversationId, setEditingConversationId] = useState<string | null>(null);\n  const [editingTitle, setEditingTitle] = useState<string>(\"\");\n\n  // For Employee Selector\n  const [employeeList, setEmployeeList] = useState<Employee[]>([]);\n  const [showEmployeeSelector, setShowEmployeeSelector] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  // Refs\n  const chatEndRef = useRef<HTMLDivElement>(null);\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  // ---------------------\n  // On mount\n  // ---------------------\n  useEffect(() => {\n    setDarkMode(window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n    fetchConversations();\n    fetchAllEmployees(); // fetch employees once\n  }, []);\n\n  // ---------------------\n  // Auto-scroll\n  // ---------------------\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  // ---------------------\n  // Fetch conversation list\n  // ---------------------\n  const fetchConversations = async () => {\n    try {\n      const res = await fetch(\n        `${conversationApiUrl}/conversations?tenantId=tenant-1&userId=user-guest`\n      );\n      if (res.ok) {\n        const data = await res.json();\n        if (Array.isArray(data)) {\n          setConversationList(data);\n        }\n      }\n    } catch (err) {\n      console.error(\"Error fetching conversations:\", err);\n    }\n  };\n\n  // ---------------------\n  // Fetch employees\n  // ---------------------\n  const fetchAllEmployees = async () => {\n    try {\n      const res = await fetch(employeesApiUrl);\n      if (res.ok) {\n        const data = await res.json();\n        if (Array.isArray(data)) {\n          setEmployeeList(data);\n        }\n      }\n    } catch (err) {\n      console.error(\"Error fetching employees:\", err);\n    }\n  };\n\n  // ---------------------\n  // Fetch messages\n  // ---------------------\n  const fetchMessagesForConversation = async (convId: string) => {\n    try {\n      const url = `${conversationApiUrl}/messages?conversationId=${encodeURIComponent(\n        convId\n      )}&tenantId=tenant-1&userId=user-guest`;\n      const res = await fetch(url, { method: \"GET\" });\n      if (res.ok) {\n        const data = await res.json();\n        const fetched = Array.isArray(data) ? data : [];\n        const converted = fetched.map((item: any) => ({\n          role: item.role === \"assistant\" ? \"ali\" : item.role,\n          text: item.content || \"\",\n          options: item.options || [],\n        }));\n        setMessages(converted);\n      } else if (res.status === 404) {\n        setMessages([]);\n      } else {\n        console.error(\"Error fetching messages, status:\", res.status);\n      }\n    } catch (err) {\n      console.error(\"Error fetching messages:\", err);\n    }\n  };\n\n  // ---------------------\n  // Select conversation\n  // ---------------------\n  const handleConversationSelect = (conv: Conversation) => {\n    setConversationId(conv.conversationId);\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"conversationId\", conv.conversationId);\n    }\n    setMessages([]);\n    if (conv.conversationId.trim()) {\n      fetchMessagesForConversation(conv.conversationId);\n    }\n  };\n\n  // ---------------------\n  // Send a message\n  // ---------------------\n  const sendMessage = async (text: string) => {\n    if (!text.trim() || isProcessing) return;\n\n    const abortController = new AbortController();\n    abortControllerRef.current = abortController;\n    const signal = abortController.signal;\n\n    // Display user message\n    setMessages((prev) => [...prev, { role: \"user\", text }]);\n    setIsProcessing(true);\n\n    try {\n      const res = await fetch(`${conversationApiUrl}/messages`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        signal,\n        body: JSON.stringify({\n          conversationId: conversationId || undefined,\n          text,\n          tenantId: \"tenant-1\",\n          userId: \"user-guest\",\n        }),\n      });\n      if (res.ok) {\n        const data = await res.json();\n        // If new conversation created\n        if (data.conversationId && data.conversationId !== conversationId) {\n          setConversationId(data.conversationId);\n          localStorage.setItem(\"conversationId\", data.conversationId);\n          fetchConversations();\n        }\n        // Process AI response\n        const parsed = processAliResponse(data.reply || \"\");\n        setMessages((prev) => [\n          ...prev,\n          { role: \"ali\", text: parsed.text, options: parsed.options },\n        ]);\n      } else {\n        console.error(\"Error from ALI:\", await res.text());\n      }\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n    }\n    setIsProcessing(false);\n    setMessageText(\"\");\n  };\n\n  const handleSend = () => {\n    sendMessage(messageText);\n  };\n\n  // Stop function\n  const stop = () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n      setIsProcessing(false);\n    }\n  };\n\n  // Handle option clicks\n  const handleOptionClick = (option: string) => {\n    sendMessage(option);\n  };\n\n  // ---------------------\n  // Conversation rename\n  // ---------------------\n  const handleEditingStart = (conv: Conversation) => {\n    setEditingConversationId(conv.conversationId);\n    setEditingTitle(conv.title);\n  };\n  const handleRenameKeyDown = (\n    e: KeyboardEvent<HTMLInputElement>,\n    convId: string\n  ) => {\n    if (e.key === \"Enter\") {\n      renameConversation(convId, editingTitle);\n      setEditingConversationId(null);\n    }\n  };\n  const renameConversation = async (convId: string, newTitle: string) => {\n    try {\n      await fetch(`${conversationApiUrl}/conversations/${convId}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          title: newTitle,\n          tenantId: \"tenant-1\",\n          userId: \"user-guest\",\n        }),\n      });\n      fetchConversations();\n    } catch (err) {\n      console.error(\"Error renaming conversation:\", err);\n    }\n  };\n  const handleDeleteConversation = async (convId: string) => {\n    try {\n      await fetch(`${conversationApiUrl}/conversations/${convId}`, {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          tenantId: \"tenant-1\",\n          userId: \"user-guest\",\n        }),\n      });\n      fetchConversations();\n    } catch (err) {\n      console.error(\"Error deleting conversation:\", err);\n    }\n  };\n\n  // ---------------------\n  // Category selection (centered initial prompt)\n  // ---------------------\n  const handleCategorySelection = (category: string) => {\n    if (category === \"Employee Discipline\") {\n      sendMessage(\"I need to start a new employee discipline incident.\");\n    } else if (category === \"Harassment/Discrimination\") {\n      sendMessage(\"I need to start a new harassment or discrimination incident.\");\n    } else {\n      sendMessage(\"I need some general HR consultation.\");\n    }\n  };\n\n  // Shared style for category buttons\n  const buttonStyle: React.CSSProperties = {\n    padding: \"8px 16px\",\n    borderRadius: \"20px\",\n    border: darkMode ? \"1px solid #666\" : \"1px solid #ccc\",\n    backgroundColor: \"transparent\",\n    cursor: \"pointer\",\n    color: darkMode ? \"#fff\" : \"#171717\",\n  };\n\n  // ---------------------\n  // Show/hide employee selector popup\n  // ---------------------\n  const openEmployeeSelector = () => {\n    setSearchTerm(\"\");\n    setShowEmployeeSelector(true);\n  };\n  const closeEmployeeSelector = () => {\n    setShowEmployeeSelector(false);\n  };\n\n  const handleEmployeeSelect = (emp: Employee) => {\n    closeEmployeeSelector();\n    sendMessage(`I have selected employee: ${emp.name}`);\n  };\n\n  // Filter employees by searchTerm\n  const filteredEmployees = employeeList.filter((emp) =>\n    emp.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <>\n      <Head>\n        <title>Ask ALI</title>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\"\n        />\n      </Head>\n\n      <div style={{ display: \"flex\", height: \"100vh\" }}>\n        {/* Left Sidebar: Conversation History */}\n        <div\n          style={{\n            width: 250,\n            backgroundColor: \"var(--secondary-background-color)\",\n            overflowY: \"auto\",\n          }}\n        >\n          <ConversationHistory\n            conversationList={conversationList}\n            editingConversationId={editingConversationId}\n            editingTitle={editingTitle}\n            onSelect={handleConversationSelect}\n            onEditingStart={handleEditingStart}\n            onRename={renameConversation}\n            onRenameKeyDown={handleRenameKeyDown}\n            onTitleChange={(newTitle: string) => setEditingTitle(newTitle)}\n            onDelete={handleDeleteConversation}\n          />\n        </div>\n\n        {/* Right Pane */}\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            flexDirection: \"column\",\n            backgroundColor: darkMode ? \"#222\" : \"#f7f7f7\",\n          }}\n        >\n          {/* Top bar / Dark mode toggle */}\n          <div\n            style={{\n              padding: \"8px 16px\",\n              borderBottom: \"1px solid #ccc\",\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n            }}\n          >\n            <h2 style={{ margin: 0, color: darkMode ? \"#fff\" : \"#000\" }}>\n              Ask ALI\n            </h2>\n            <div style={{ display: \"flex\", gap: 12 }}>\n              {/* Example: button to open employee selector anytime */}\n              <button\n                onClick={openEmployeeSelector}\n                style={{\n                  padding: \"6px 12px\",\n                  borderRadius: 4,\n                  border: \"1px solid #999\",\n                  backgroundColor: \"transparent\",\n                  cursor: \"pointer\",\n                  color: darkMode ? \"#fff\" : \"#000\",\n                }}\n              >\n                Select Employee\n              </button>\n\n              <button\n                onClick={() => setDarkMode(!darkMode)}\n                style={{\n                  padding: \"6px 12px\",\n                  borderRadius: 4,\n                  border: \"1px solid #999\",\n                  backgroundColor: \"transparent\",\n                  cursor: \"pointer\",\n                  color: darkMode ? \"#fff\" : \"#000\",\n                }}\n              >\n                {darkMode ? \"Light Mode\" : \"Dark Mode\"}\n              </button>\n            </div>\n          </div>\n\n          {/* Main Chat Area */}\n          <div style={{ flex: 1, display: \"flex\", flexDirection: \"column\" }}>\n            {messages.length === 0 ? (\n              <div\n                style={{\n                  flex: 1,\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                <div style={{ textAlign: \"center\" }}>\n                  <h2\n                    style={{\n                      fontSize: \"1.5rem\",\n                      marginBottom: 16,\n                      color: darkMode ? \"#fff\" : \"#000\",\n                    }}\n                  >\n                    What can I help with?\n                  </h2>\n                  <div style={{ display: \"inline-flex\", gap: \"1rem\" }}>\n                    <button\n                      onClick={() =>\n                        handleCategorySelection(\"Employee Discipline\")\n                      }\n                      style={buttonStyle}\n                    >\n                      <i\n                        className=\"fa-solid fa-user-shield\"\n                        style={{ marginRight: 8 }}\n                      />\n                      Employee Discipline\n                    </button>\n                    <button\n                      onClick={() =>\n                        handleCategorySelection(\"Harassment/Discrimination\")\n                      }\n                      style={buttonStyle}\n                    >\n                      <i\n                        className=\"fa-solid fa-user\"\n                        style={{ marginRight: 8 }}\n                      />\n                      Harassment/Discrimination\n                    </button>\n                    <button\n                      onClick={() =>\n                        handleCategorySelection(\"General HR Consultation\")\n                      }\n                      style={buttonStyle}\n                    >\n                      <i\n                        className=\"fa-solid fa-comments\"\n                        style={{ marginRight: 8 }}\n                      />\n                      General HR Consultation\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div\n                style={{\n                  flex: 1,\n                  overflowY: \"auto\",\n                  padding: 16,\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                }}\n              >\n                <div style={{ maxWidth: 800, width: \"100%\" }}>\n                  {messages.map((msg, index) => (\n                    <div\n                      key={index}\n                      style={{\n                        marginBottom: 12,\n                        textAlign: msg.role === \"user\" ? \"right\" : \"left\",\n                      }}\n                    >\n                      <div\n                        style={{\n                          display: \"inline-block\",\n                          padding: 12,\n                          borderRadius: 8,\n                          backgroundColor:\n                            msg.role === \"user\"\n                              ? darkMode\n                                ? \"#333\"\n                                : \"#e0e0e0\"\n                              : \"transparent\",\n                          color: darkMode ? \"#fff\" : \"#000\",\n                        }}\n                      >\n                        <ReactMarkdown>{msg.text}</ReactMarkdown>\n                      </div>\n                      {msg.options && msg.options.length > 0 && (\n                        <OptionButtons\n                          options={msg.options}\n                          onSelected={handleOptionClick}\n                          darkMode={darkMode}\n                        />\n                      )}\n                    </div>\n                  ))}\n                  <div ref={chatEndRef} />\n                </div>\n              </div>\n            )}\n\n            {/* Message Input Field */}\n            <MessageInput\n              messageText={messageText}\n              setMessageText={setMessageText}\n              isProcessing={isProcessing}\n              onSend={handleSend}\n              stop={stop}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* EMPLOYEE SELECTOR POPUP */}\n      {showEmployeeSelector && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"rgba(0,0,0,0.4)\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            zIndex: 9999,\n          }}\n        >\n          <div\n            style={{\n              backgroundColor: darkMode ? \"#444\" : \"#fff\",\n              padding: 20,\n              borderRadius: 8,\n              width: 400,\n              maxHeight: \"80vh\",\n              display: \"flex\",\n              flexDirection: \"column\",\n            }}\n          >\n            <h3 style={{ margin: 0, marginBottom: 12, color: darkMode ? \"#fff\" : \"#000\" }}>\n              Select Employee\n            </h3>\n            <input\n              type=\"text\"\n              placeholder=\"Search employees...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              style={{\n                marginBottom: 12,\n                padding: 8,\n                borderRadius: 4,\n                border: \"1px solid #ccc\",\n                outline: \"none\",\n              }}\n            />\n            <div style={{ flex: 1, overflowY: \"auto\", border: \"1px solid #ccc\", borderRadius: 4, padding: 8 }}>\n              {filteredEmployees.map((emp) => (\n                <div\n                  key={emp.id}\n                  style={{\n                    padding: \"6px 8px\",\n                    cursor: \"pointer\",\n                    color: darkMode ? \"#fff\" : \"#000\",\n                  }}\n                  onClick={() => handleEmployeeSelect(emp)}\n                >\n                  {emp.name}\n                </div>\n              ))}\n              {filteredEmployees.length === 0 && (\n                <div style={{ color: darkMode ? \"#ccc\" : \"#666\" }}>\n                  No matches found\n                </div>\n              )}\n            </div>\n            <button\n              onClick={closeEmployeeSelector}\n              style={{\n                marginTop: 12,\n                alignSelf: \"flex-end\",\n                padding: \"6px 12px\",\n                borderRadius: 4,\n                border: \"1px solid #999\",\n                backgroundColor: \"transparent\",\n                cursor: \"pointer\",\n                color: darkMode ? \"#fff\" : \"#000\",\n              }}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AskAli;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2094, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}