{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/ConversationOptionsDropdown.tsx"],"sourcesContent":["// src/app/ask-ali/ConversationOptionsDropdown.tsx\n\nimport React from 'react';\n\ninterface ConversationOptionsDropdownProps {\n  onEdit: () => void;\n  onDelete: () => void;\n}\n\nconst ConversationOptionsDropdown: React.FC<ConversationOptionsDropdownProps> = ({ onEdit, onDelete }) => {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: '100%',\n        right: 0,\n        backgroundColor: 'var(--dropdown-bg)', // Ensure --dropdown-bg is defined in your globals.css\n        padding: 15,\n        border: '1px solid var(--secondary-background-color)',\n        borderRadius: 15,\n        boxShadow: '0 2px 6px rgba(0,0,0,0.15)',\n        zIndex: 10,\n      }}\n    >\n      <button\n        onClick={(e) => {\n          e.stopPropagation();\n          onEdit();\n        }}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8,\n          padding: '4px 8px',\n          background: 'none',\n          border: 'none',\n          width: '100%',\n          cursor: 'pointer',\n          color: 'var(--foreground)',\n          fontSize: 12,\n        }}\n      >\n        <i className=\"fa-solid fa-pen\" style={{ fontSize: 12 }}></i> Rename\n      </button>\n      <button\n        onClick={(e) => {\n          e.stopPropagation();\n          onDelete();\n        }}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8,\n          padding: '4px 8px',\n          background: 'none',\n          border: 'none',\n          width: '100%',\n          cursor: 'pointer',\n          color: 'var(--foreground)',\n          fontSize: 12,\n        }}\n      >\n        <i className=\"fa-solid fa-trash\" style={{ fontSize: 12 }}></i> Delete\n      </button>\n    </div>\n  );\n};\n\nexport default ConversationOptionsDropdown;"],"names":[],"mappings":"AAAA,kDAAkD;;;;;;AASlD,MAAM,8BAA0E,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE;IACnG,qBACE,6LAAC;QACC,OAAO;YACL,UAAU;YACV,KAAK;YACL,OAAO;YACP,iBAAiB;YACjB,SAAS;YACT,QAAQ;YACR,cAAc;YACd,WAAW;YACX,QAAQ;QACV;;0BAEA,6LAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB;gBACF;gBACA,OAAO;oBACL,SAAS;oBACT,YAAY;oBACZ,KAAK;oBACL,SAAS;oBACT,YAAY;oBACZ,QAAQ;oBACR,OAAO;oBACP,QAAQ;oBACR,OAAO;oBACP,UAAU;gBACZ;;kCAEA,6LAAC;wBAAE,WAAU;wBAAkB,OAAO;4BAAE,UAAU;wBAAG;;;;;;oBAAO;;;;;;;0BAE9D,6LAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB;gBACF;gBACA,OAAO;oBACL,SAAS;oBACT,YAAY;oBACZ,KAAK;oBACL,SAAS;oBACT,YAAY;oBACZ,QAAQ;oBACR,OAAO;oBACP,QAAQ;oBACR,OAAO;oBACP,UAAU;gBACZ;;kCAEA,6LAAC;wBAAE,WAAU;wBAAoB,OAAO;4BAAE,UAAU;wBAAG;;;;;;oBAAO;;;;;;;;;;;;;AAItE;KAzDM;uCA2DS"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/RenamePopup.tsx"],"sourcesContent":["// src/app/ask-ali/RenamePopup.tsx\n\nimport React, { useState, useEffect, useRef } from 'react';\n\ninterface RenamePopupProps {\n  initialTitle: string;\n  onSave: (newTitle: string) => void;\n  onCancel: () => void;\n  // Optional: You can pass position offsets if desired.\n  topOffset?: number;\n  leftOffset?: number;\n}\n\nconst RenamePopup: React.FC<RenamePopupProps> = ({\n  initialTitle,\n  onSave,\n  onCancel,\n  topOffset = 100,   // Adjust this value as needed to position the popup vertically\n  leftOffset = 50,   // Adjust this value as needed to position the popup horizontally\n}) => {\n  const [newTitle, setNewTitle] = useState(initialTitle);\n  const popupRef = useRef<HTMLDivElement>(null);\n\n  // Optionally, focus the textarea when the popup opens.\n  useEffect(() => {\n    popupRef.current?.querySelector('textarea')?.focus();\n  }, []);\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: topOffset,\n        left: leftOffset,\n        backgroundColor: 'var(--background)',\n        padding: '16px',\n        border: '1px solid var(--secondary-background-color)',\n        borderRadius: '8px',\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        zIndex: 1000,\n      }}\n      ref={popupRef}\n    >\n      <h3 style={{ margin: '0 0 12px 0', fontSize: 16 }}>Rename Conversation</h3>\n      <textarea\n        value={newTitle}\n        onChange={(e) => setNewTitle(e.target.value)}\n        rows={2}\n        style={{\n          width: '100%',\n          padding: '8px',\n          borderRadius: '4px',\n          border: '1px solid #ccc',\n          fontSize: 14,\n          resize: 'vertical',\n          color: 'var(--foreground)',\n          backgroundColor: 'var(--input-bg)',\n        }}\n      />\n      <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '8px', marginTop: '12px' }}>\n        <button\n          onClick={onCancel}\n          style={{\n            padding: '8px 12px',\n            border: 'none',\n            borderRadius: '4px',\n            backgroundColor: '#ccc',\n            color: '#000',\n            cursor: 'pointer',\n            fontSize: 14,\n          }}\n        >\n          Cancel\n        </button>\n        <button\n          onClick={() => onSave(newTitle)}\n          style={{\n            padding: '8px 12px',\n            border: 'none',\n            borderRadius: '4px',\n            backgroundColor: 'var(--primary-color)',\n            color: 'var(--background)',\n            cursor: 'pointer',\n            fontSize: 14,\n          }}\n        >\n          Save\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default RenamePopup;"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAElC;;;;AAWA,MAAM,cAA0C,CAAC,EAC/C,YAAY,EACZ,MAAM,EACN,QAAQ,EACR,YAAY,GAAG,EACf,aAAa,EAAE,EAChB;;IACC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAExC,uDAAuD;IACvD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,SAAS,OAAO,EAAE,cAAc,aAAa;QAC/C;gCAAG,EAAE;IAEL,qBACE,6LAAC;QACC,OAAO;YACL,UAAU;YACV,KAAK;YACL,MAAM;YACN,iBAAiB;YACjB,SAAS;YACT,QAAQ;YACR,cAAc;YACd,WAAW;YACX,QAAQ;QACV;QACA,KAAK;;0BAEL,6LAAC;gBAAG,OAAO;oBAAE,QAAQ;oBAAc,UAAU;gBAAG;0BAAG;;;;;;0BACnD,6LAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gBAC3C,MAAM;gBACN,OAAO;oBACL,OAAO;oBACP,SAAS;oBACT,cAAc;oBACd,QAAQ;oBACR,UAAU;oBACV,QAAQ;oBACR,OAAO;oBACP,iBAAiB;gBACnB;;;;;;0BAEF,6LAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,gBAAgB;oBAAY,KAAK;oBAAO,WAAW;gBAAO;;kCACvF,6LAAC;wBACC,SAAS;wBACT,OAAO;4BACL,SAAS;4BACT,QAAQ;4BACR,cAAc;4BACd,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,UAAU;wBACZ;kCACD;;;;;;kCAGD,6LAAC;wBACC,SAAS,IAAM,OAAO;wBACtB,OAAO;4BACL,SAAS;4BACT,QAAQ;4BACR,cAAc;4BACd,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,UAAU;wBACZ;kCACD;;;;;;;;;;;;;;;;;;AAMT;GA9EM;KAAA;uCAgFS"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/ConversationHistory.tsx"],"sourcesContent":["// src/app/ask-ali/ConversationHistory.tsx\n\nimport React, { ChangeEvent, KeyboardEvent, useState, useEffect, useRef } from 'react';\nimport ConversationOptionsDropdown from './ConversationOptionsDropdown';\nimport RenamePopup from './RenamePopup';\n\nexport interface Conversation {\n  conversationId: string;\n  title: string;\n  createdAt?: string; // Optional: timestamp from the backend\n}\n\nexport interface ConversationHistoryProps {\n  conversationList: Conversation[];\n  editingConversationId: string | null;\n  editingTitle: string;\n  onSelect: (conv: Conversation) => void;\n  onEditingStart: (conv: Conversation) => void;\n  onRename: (convId: string, newTitle: string) => void;\n  onRenameKeyDown: (e: KeyboardEvent<HTMLInputElement>, convId: string) => void;\n  onTitleChange: (newTitle: string) => void;\n  onDelete: (convId: string) => void;\n}\n\nconst ConversationHistory: React.FC<ConversationHistoryProps> = ({\n  conversationList,\n  editingConversationId,\n  editingTitle,\n  onSelect,\n  onEditingStart,\n  onRename,\n  onRenameKeyDown,\n  onTitleChange,\n  onDelete,\n}) => {\n  // State to control the dropdown for options.\n  const [openDropdownFor, setOpenDropdownFor] = useState<string | null>(null);\n  // State to control the rename popup and store which conversation is being renamed.\n  const [renamePopupOpen, setRenamePopupOpen] = useState<boolean>(false);\n  const [conversationToRename, setConversationToRename] = useState<Conversation | null>(null);\n  // Ref for the dropdown container.\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  // State for filtering conversations.\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\n  // State to control the visibility of the search popup.\n  const [searchPopupOpen, setSearchPopupOpen] = useState<boolean>(false);\n  // State to control how many conversations are visible.\n  const [visibleCount, setVisibleCount] = useState<number>(10);\n\n  // When the search term changes, reset the visible count to 10.\n  useEffect(() => {\n    setVisibleCount(10);\n  }, [searchTerm]);\n\n  // Close the dropdown when clicking outside.\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (openDropdownFor && dropdownRef.current && !dropdownRef.current.contains(e.target as Node)) {\n        setOpenDropdownFor(null);\n      }\n    };\n    document.addEventListener('click', handleClickOutside);\n    return () => document.removeEventListener('click', handleClickOutside);\n  }, [openDropdownFor]);\n\n  const toggleDropdown = (convId: string) => {\n    setOpenDropdownFor(prev => (prev === convId ? null : convId));\n  };\n\n  const handleRenameClick = (conv: Conversation) => {\n    setConversationToRename(conv);\n    setRenamePopupOpen(true);\n    setOpenDropdownFor(null);\n  };\n\n  // Sort the conversation list by createdAt (newest first) if available.\n  const sortedConversations = [...conversationList].sort((a, b) => {\n    const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n    const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n    return dateB - dateA;\n  });\n\n  // Filter the sorted list based on the search term.\n  const filteredConversations = sortedConversations.filter(conv =>\n    conv.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  // Limit the displayed conversations to visibleCount.\n  const visibleConversations = filteredConversations.slice(0, visibleCount);\n\n  return (\n    <div style={{ padding: 16, color: 'var(--foreground)', height: '100%', overflowY: 'auto', position: 'relative' }}>\n      {/* Vertical Navigation Menu */}\n      <div style={{ marginBottom: 16 }}>\n        <nav style={{ display: 'flex', flexDirection: 'column', gap: 8, fontSize: 14 }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n            <i className=\"fa-solid fa-triangle-exclamation\"></i>\n            <span>Incidents</span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n            <i className=\"fa-solid fa-chart-line\"></i>\n            <span>Reports</span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n            <i className=\"fa-solid fa-gear\"></i>\n            <span>Settings</span>\n          </div>\n        </nav>\n      </div>\n\n      {/* Header Row: Incident Chats with New Conversation and Search buttons */}\n      <div style={{ marginBottom: 16, display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n        <h3 style={{ margin: 0, fontSize: 16 }}>Incident Chats</h3>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              // When New Conversation is clicked, pass an empty conversation to the parent.\n              onSelect({ conversationId: \"\", title: \"\" });\n            }}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: 18,\n              color: 'var(--foreground)'\n            }}\n            title=\"New Conversation\"\n          >\n            <i className=\"fa-solid fa-plus\"></i>\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setSearchPopupOpen(!searchPopupOpen);\n            }}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: 18,\n              color: 'var(--foreground)'\n            }}\n            title=\"Search Chats\"\n          >\n            <i className=\"fa-solid fa-magnifying-glass\"></i>\n          </button>\n          {searchTerm && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                setSearchTerm(\"\");\n              }}\n              style={{\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n                fontSize: 18,\n                color: 'var(--foreground)'\n              }}\n              title=\"Reset Search\"\n            >\n              <i className=\"fa-solid fa-rotate-left\"></i>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Inline Search Popup: rendered as part of the normal flow so it pushes down the conversation list */}\n      {searchPopupOpen && (\n        <div\n          style={{\n            marginBottom: 16,\n            padding: 8,\n            border: '1px solid var(--secondary-background-color)',\n            borderRadius: 4,\n            backgroundColor: 'var(--background)',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 4,\n          }}\n        >\n          <input\n            type=\"text\"\n            placeholder=\"Search chats...\"\n            value={searchTerm}\n            onChange={(e: ChangeEvent<HTMLInputElement>) => setSearchTerm(e.target.value)}\n            style={{\n              padding: '4px 8px',\n              borderRadius: 4,\n              border: '1px solid var(--secondary-background-color)',\n              fontSize: 14,\n              backgroundColor: 'var(--background)',\n              color: 'var(--foreground)',\n              flex: 1,\n            }}\n          />\n          <button\n            onClick={() => setSearchPopupOpen(false)}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: 18,\n              color: 'var(--foreground)',\n            }}\n            title=\"Close Search\"\n          >\n            <i className=\"fa-solid fa-xmark\"></i>\n          </button>\n        </div>\n      )}\n\n      {/* Conversation List */}\n      <div>\n        {visibleConversations.length > 0 ? (\n          visibleConversations.map(conv => (\n            <div\n              key={conv.conversationId}\n              style={{\n                padding: 8,\n                cursor: 'pointer',\n                color: 'var(--foreground)',\n                borderBottom: '1px solid var(--secondary-background-color)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between',\n                position: 'relative',\n              }}\n              onClick={() => onSelect(conv)}\n            >\n              {/* Conversation Title (allow up to 2 lines) */}\n              <span\n                style={{\n                  fontSize: 14,\n                  flex: 1,\n                  display: '-webkit-box',\n                  WebkitLineClamp: 2,\n                  WebkitBoxOrient: 'vertical',\n                  overflow: 'hidden',\n                }}\n              >\n                {conv.title.replace(/\"/g, '')}\n              </span>\n              {/* Options Button */}\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  minWidth: 40,\n                  justifyContent: 'center',\n                }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  toggleDropdown(conv.conversationId);\n                }}\n                ref={dropdownRef}\n              >\n                <button\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    padding: 6,\n                    color: 'var(--foreground)',\n                  }}\n                  title=\"Options\"\n                >\n                  <i className=\"fa-solid fa-ellipsis-h\"></i>\n                </button>\n                {openDropdownFor === conv.conversationId && (\n                  <ConversationOptionsDropdown\n                    onEdit={() => handleRenameClick(conv)}\n                    onDelete={() => {\n                      if (window.confirm(\"Are you sure you want to delete this conversation?\")) {\n                        onDelete(conv.conversationId);\n                        setOpenDropdownFor(null);\n                      }\n                    }}\n                  />\n                )}\n              </div>\n            </div>\n          ))\n        ) : (\n          <p>No chats found.</p>\n        )}\n      </div>\n\n      {/* Load More Button */}\n      {filteredConversations.length > visibleCount && (\n        <div style={{ textAlign: 'center', marginTop: 16 }}>\n          <button\n            onClick={() => setVisibleCount(visibleCount + 20)}\n            style={{\n              background: 'none',\n              border: '1px solid var(--secondary-background-color)',\n              borderRadius: 4,\n              padding: '4px 8px',\n              cursor: 'pointer',\n              fontSize: 14,\n              color: 'var(--foreground)'\n            }}\n          >\n            Load More\n          </button>\n        </div>\n      )}\n\n      {renamePopupOpen && conversationToRename && (\n        <RenamePopup\n          initialTitle={conversationToRename.title}\n          onSave={(newTitle: string) => {\n            onRename(conversationToRename.conversationId, newTitle);\n            setRenamePopupOpen(false);\n            setConversationToRename(null);\n          }}\n          onCancel={() => {\n            setRenamePopupOpen(false);\n            setConversationToRename(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ConversationHistory;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 772, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/MessageInput.tsx"],"sourcesContent":["// src/app/ask-ali/MessageInput.tsx\n\nimport React, { useRef, useEffect, ChangeEvent } from 'react';\n\ninterface MessageInputProps {\n  messageText: string;\n  setMessageText: (text: string) => void;\n  isProcessing: boolean;\n  onSend: () => void;\n  stop: () => void;\n}\n\nconst MessageInput: React.FC<MessageInputProps> = ({\n  messageText,\n  setMessageText,\n  isProcessing,\n  onSend,\n  stop,\n}) => {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  // Auto-resize effect whenever messageText changes.\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  }, [messageText]);\n\n  return (\n    <div style={{ width: '100%', maxWidth: 800, padding: 16, margin: '0 auto' }}>\n      <div\n        style={{\n          backgroundColor: 'var(--input-bg)',\n          borderRadius: 12,\n          padding: 12,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 8,\n        }}\n      >\n        <textarea\n          ref={textareaRef}\n          value={messageText}\n          onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setMessageText(e.target.value)}\n          placeholder=\"Ask ALI anything...\"\n          style={{\n            width: '100%',\n            minHeight: 40,\n            maxHeight: 288,\n            border: 'none',\n            resize: 'vertical',\n            outline: 'none',\n            backgroundColor: 'transparent',\n            color: 'var(--input-text-color)',\n            fontSize: 16,\n            lineHeight: '1.5',\n          }}\n        />\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <div style={{ display: 'flex', gap: 16 }}>\n            <button\n              onClick={() => { console.log(\"Attachment clicked\"); alert('Attachment placeholder'); }}\n              style={{\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n            >\n              <i className=\"fa-solid fa-paperclip\" style={{ fontSize: 16, color: \"var(--icon-color)\" }}></i>\n            </button>\n            <button\n              onClick={() => { console.log(\"Camera clicked\"); alert('Camera placeholder'); }}\n              style={{\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n            >\n              <i className=\"fa-solid fa-camera\" style={{ fontSize: 16, color: \"var(--icon-color)\" }}></i>\n            </button>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n            <button\n              onClick={() => { console.log(\"Microphone clicked\"); alert('Audio recording placeholder'); }}\n              style={{\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n            >\n              <i className=\"fa-solid fa-microphone\" style={{ fontSize: 16, color: \"var(--icon-color)\" }}></i>\n            </button>\n            <button\n              onClick={isProcessing ? stop : onSend}\n              style={{\n                width: 40,\n                height: 40,\n                borderRadius: '50%',\n                backgroundColor: '#000',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'pointer',\n                border: 'none',\n              }}\n            >\n              <i\n                className={isProcessing ? \"fa-solid fa-stop\" : \"fa-solid fa-arrow-up\"}\n                style={{ color: '#fff', fontSize: 16 }}\n              ></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageInput;"],"names":[],"mappings":"AAAA,mCAAmC;;;;;AAEnC;;;;AAUA,MAAM,eAA4C,CAAC,EACjD,WAAW,EACX,cAAc,EACd,YAAY,EACZ,MAAM,EACN,IAAI,EACL;;IACC,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAuB;IAEhD,mDAAmD;IACnD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,YAAY,OAAO,EAAE;gBACvB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;gBACnC,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,YAAY,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;YAC5E;QACF;iCAAG;QAAC;KAAY;IAEhB,qBACE,6LAAC;QAAI,OAAO;YAAE,OAAO;YAAQ,UAAU;YAAK,SAAS;YAAI,QAAQ;QAAS;kBACxE,cAAA,6LAAC;YACC,OAAO;gBACL,iBAAiB;gBACjB,cAAc;gBACd,SAAS;gBACT,SAAS;gBACT,eAAe;gBACf,KAAK;YACP;;8BAEA,6LAAC;oBACC,KAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAwC,eAAe,EAAE,MAAM,CAAC,KAAK;oBAChF,aAAY;oBACZ,OAAO;wBACL,OAAO;wBACP,WAAW;wBACX,WAAW;wBACX,QAAQ;wBACR,QAAQ;wBACR,SAAS;wBACT,iBAAiB;wBACjB,OAAO;wBACP,UAAU;wBACV,YAAY;oBACd;;;;;;8BAEF,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,gBAAgB;wBAAiB,YAAY;oBAAS;;sCACnF,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,KAAK;4BAAG;;8CACrC,6LAAC;oCACC,SAAS;wCAAQ,QAAQ,GAAG,CAAC;wCAAuB,MAAM;oCAA2B;oCACrF,OAAO;wCACL,YAAY;wCACZ,QAAQ;wCACR,QAAQ;oCACV;8CAEA,cAAA,6LAAC;wCAAE,WAAU;wCAAwB,OAAO;4CAAE,UAAU;4CAAI,OAAO;wCAAoB;;;;;;;;;;;8CAEzF,6LAAC;oCACC,SAAS;wCAAQ,QAAQ,GAAG,CAAC;wCAAmB,MAAM;oCAAuB;oCAC7E,OAAO;wCACL,YAAY;wCACZ,QAAQ;wCACR,QAAQ;oCACV;8CAEA,cAAA,6LAAC;wCAAE,WAAU;wCAAqB,OAAO;4CAAE,UAAU;4CAAI,OAAO;wCAAoB;;;;;;;;;;;;;;;;;sCAGxF,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,YAAY;gCAAU,KAAK;4BAAE;;8CAC1D,6LAAC;oCACC,SAAS;wCAAQ,QAAQ,GAAG,CAAC;wCAAuB,MAAM;oCAAgC;oCAC1F,OAAO;wCACL,YAAY;wCACZ,QAAQ;wCACR,QAAQ;oCACV;8CAEA,cAAA,6LAAC;wCAAE,WAAU;wCAAyB,OAAO;4CAAE,UAAU;4CAAI,OAAO;wCAAoB;;;;;;;;;;;8CAE1F,6LAAC;oCACC,SAAS,eAAe,OAAO;oCAC/B,OAAO;wCACL,OAAO;wCACP,QAAQ;wCACR,cAAc;wCACd,iBAAiB;wCACjB,SAAS;wCACT,YAAY;wCACZ,gBAAgB;wCAChB,QAAQ;wCACR,QAAQ;oCACV;8CAEA,cAAA,6LAAC;wCACC,WAAW,eAAe,qBAAqB;wCAC/C,OAAO;4CAAE,OAAO;4CAAQ,UAAU;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrD;GAzGM;KAAA;uCA2GS"}},
    {"offset": {"line": 1005, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1011, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/OptionButtons.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\n\ninterface OptionButtonsProps {\n  options: string[];\n  onSelected: (selection: string) => void;\n  darkMode?: boolean; // optional prop for dark mode styling\n}\n\nconst OptionButtons: React.FC<OptionButtonsProps> = ({\n  options,\n  onSelected,\n  darkMode = false\n}) => {\n  // Decide whether to show inline or popup\n  const usePopupMultiSelect = options.length > 4;\n\n  // For small sets, show inline buttons\n  if (!usePopupMultiSelect) {\n    return (\n      <div style={{ marginTop: 8 }}>\n        {options.map((opt, index) => (\n          <button\n            key={index}\n            onClick={() => onSelected(opt)}\n            style={{\n              marginRight: 8,\n              padding: \"6px 12px\",\n              borderRadius: \"20px\",\n              border: \"1px solid\",\n              borderColor: darkMode ? \"#666\" : \"#ccc\",\n              backgroundColor: \"transparent\",\n              color: darkMode ? \"#fff\" : \"#171717\",\n              cursor: \"pointer\"\n            }}\n          >\n            {opt}\n          </button>\n        ))}\n      </div>\n    );\n  }\n\n  // For larger sets, show popup overlay with multi-select checkboxes\n  const [showOverlay, setShowOverlay] = useState(false);\n  const [selected, setSelected] = useState<string[]>([]);\n\n  const toggleSelection = (option: string) => {\n    setSelected((prev) =>\n      prev.includes(option) ? prev.filter((o) => o !== option) : [...prev, option]\n    );\n  };\n\n  const handleConfirm = () => {\n    // Combine selected items into a single string (adjust if needed)\n    if (selected.length > 0) {\n      onSelected(selected.join(\", \"));\n    }\n    setShowOverlay(false);\n  };\n\n  const handleCancel = () => {\n    setSelected([]);\n    setShowOverlay(false);\n  };\n\n  return (\n    <div style={{ marginTop: 8 }}>\n      <button\n        onClick={() => setShowOverlay(true)}\n        style={{\n          padding: \"6px 12px\",\n          borderRadius: \"20px\",\n          border: \"1px solid\",\n          borderColor: darkMode ? \"#666\" : \"#ccc\",\n          backgroundColor: \"transparent\",\n          color: darkMode ? \"#fff\" : \"#171717\",\n          cursor: \"pointer\"\n        }}\n      >\n        Select Options\n      </button>\n\n      {showOverlay && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"rgba(0,0,0,0.5)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            zIndex: 9999\n          }}\n        >\n          <div\n            style={{\n              backgroundColor: darkMode ? \"#333\" : \"#fff\",\n              borderRadius: 8,\n              padding: 16,\n              width: 400,\n              maxWidth: \"90%\"\n            }}\n          >\n            <h3\n              style={{\n                marginTop: 0,\n                marginBottom: 12,\n                color: darkMode ? \"#fff\" : \"#171717\"\n              }}\n            >\n              Select Options\n            </h3>\n\n            {/* Two-column scrollable grid for checkboxes */}\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                gap: 8,\n                maxHeight: 300,\n                overflowY: \"auto\",\n                marginBottom: 12\n              }}\n            >\n              {options.map((opt, index) => {\n                const checked = selected.includes(opt);\n                return (\n                  <label\n                    key={index}\n                    style={{\n                      cursor: \"pointer\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      color: darkMode ? \"#fff\" : \"#171717\"\n                    }}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={checked}\n                      onChange={() => toggleSelection(opt)}\n                      style={{ marginRight: 6 }}\n                    />\n                    {opt}\n                  </label>\n                );\n              })}\n            </div>\n\n            {/* Buttons row */}\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8 }}>\n              <button\n                onClick={handleCancel}\n                style={{\n                  padding: \"6px 12px\",\n                  borderRadius: \"20px\",\n                  border: \"1px solid\",\n                  borderColor: darkMode ? \"#666\" : \"#ccc\",\n                  backgroundColor: \"transparent\",\n                  color: darkMode ? \"#fff\" : \"#171717\",\n                  cursor: \"pointer\"\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleConfirm}\n                style={{\n                  padding: \"6px 12px\",\n                  borderRadius: \"20px\",\n                  border: \"1px solid\",\n                  borderColor: darkMode ? \"#666\" : \"#ccc\",\n                  backgroundColor: \"transparent\",\n                  color: darkMode ? \"#fff\" : \"#171717\",\n                  cursor: \"pointer\"\n                }}\n              >\n                Confirm\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OptionButtons;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1247, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1253, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/EmployeeSelector.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, ChangeEvent } from \"react\";\n\n// Adjust these if your props differ\nexport interface EmployeeSelectorProps {\n  darkMode: boolean;\n  onSelect: (employeeName: string) => void; // or pass entire record if needed\n  onClose: () => void;\n}\n\n// Basic shape of employee data from the API\ninterface EmployeeRecord {\n  employeeId: string;\n  name?: string;   // Mark optional to avoid undefined issues\n  // add other fields if needed\n}\n\nexport default function EmployeeSelector({\n  darkMode,\n  onSelect,\n  onClose\n}: EmployeeSelectorProps) {\n  const [employees, setEmployees] = useState<EmployeeRecord[]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Hard-coded userId for now\n  const HARD_CODED_USER_ID = \"guest#user-guest\";\n  // Base URL\n  const API_BASE_URL = \"https://u4twn69urd.execute-api.us-east-1.amazonaws.com\";\n\n  // Fetch employees on mount\n  useEffect(() => {\n    async function fetchEmployees() {\n      setIsLoading(true);\n      setError(null);\n      try {\n        // For example: GET /{userId}?type=Employee\n        const url = `${API_BASE_URL}/${encodeURIComponent(HARD_CODED_USER_ID)}?type=Employee`;\n        const res = await fetch(url);\n        if (!res.ok) {\n          throw new Error(`API Error: ${res.status}`);\n        }\n        const data = await res.json();\n        if (data.status === \"success\" && Array.isArray(data.data)) {\n          setEmployees(data.data);\n        } else {\n          setEmployees([]);\n        }\n      } catch (err: any) {\n        console.error(\"Error fetching employees:\", err);\n        setError(\"Failed to load employees.\");\n      }\n      setIsLoading(false);\n    }\n    fetchEmployees();\n  }, []);\n\n  // Handle search\n  const handleSearchChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setSearchTerm(e.target.value);\n  };\n\n  // Filter employees by searchTerm\n  // Use (emp.name || \"\") so we never call toLowerCase() on undefined\n  const filteredEmployees = employees.filter((emp) =>\n    (emp.name || \"\").toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div\n      style={{\n        border: darkMode ? \"1px solid #666\" : \"1px solid #ccc\",\n        backgroundColor: darkMode ? \"#333\" : \"#fff\",\n        padding: 16,\n        borderRadius: 8,\n        marginTop: 8,\n        maxWidth: 300\n      }}\n    >\n      {/* Header Row */}\n      <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <strong style={{ color: darkMode ? \"#fff\" : \"#000\" }}>\n          Select Employee\n        </strong>\n        <button\n          onClick={onClose}\n          style={{\n            border: \"none\",\n            background: \"transparent\",\n            color: darkMode ? \"#fff\" : \"#000\",\n            cursor: \"pointer\"\n          }}\n        >\n          <i className=\"fa-solid fa-times\" />\n        </button>\n      </div>\n\n      {/* Loading / Error / Content */}\n      {isLoading ? (\n        <p style={{ color: darkMode ? \"#fff\" : \"#000\" }}>\n          Loading employees...\n        </p>\n      ) : error ? (\n        <p style={{ color: \"red\" }}>{error}</p>\n      ) : (\n        <>\n          <input\n            type=\"text\"\n            value={searchTerm}\n            onChange={handleSearchChange}\n            placeholder=\"Search employee...\"\n            style={{\n              width: \"100%\",\n              padding: 8,\n              marginTop: 8,\n              borderRadius: 4,\n              border: \"1px solid #ccc\",\n              outline: \"none\"\n            }}\n          />\n\n          <div style={{ maxHeight: 200, overflowY: \"auto\", marginTop: 8 }}>\n            {filteredEmployees.map((emp) => (\n              <div\n                key={emp.employeeId} // ensure unique key\n                onClick={() => onSelect(emp.name || \"Unknown\")}\n                style={{\n                  padding: \"6px 8px\",\n                  borderRadius: 4,\n                  cursor: \"pointer\",\n                  color: darkMode ? \"#fff\" : \"#000\",\n                  marginBottom: 4,\n                  backgroundColor: darkMode ? \"#444\" : \"#f9f9f9\"\n                }}\n              >\n                {emp.name || \"Unnamed Employee\"}\n              </div>\n            ))}\n            {filteredEmployees.length === 0 && (\n              <p style={{ color: darkMode ? \"#fff\" : \"#000\" }}>\n                No matching employees\n              </p>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1452, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1458, "column": 0}, "map": {"version":3,"sources":["file:///Users/josuerodriguez/supersonic-web/src/app/ask-ali/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {\n  useState,\n  useEffect,\n  useRef,\n  KeyboardEvent\n} from \"react\";\nimport Head from \"next/head\";\nimport ReactMarkdown from \"react-markdown\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport ConversationHistory, { Conversation } from \"./ConversationHistory\";\nimport MessageInput from \"./MessageInput\";\nimport OptionButtons from \"./OptionButtons\";\nimport EmployeeSelector from \"./EmployeeSelector\";\n\n//\n// TYPES\n//\ninterface Message {\n  role: \"user\" | \"ali\";\n  text: string;\n  options?: string[];\n}\n\n//\n// API ENDPOINT\n//\nconst conversationApiUrl = \"https://sem28c4rii.execute-api.us-east-1.amazonaws.com\";\n\n//\n// HELPER FUNCTIONS\n//\nfunction trimTrailingAsterisks(text: string): string {\n  return text.replace(/\\*+$/, \"\").trim();\n}\n\nfunction convertRelativeDates(text: string): string {\n  const now = new Date();\n  if (text.toLowerCase().includes(\"yesterday\")) {\n    const yesterday = new Date();\n    yesterday.setDate(now.getDate() - 1);\n    const formatted = yesterday.toLocaleDateString(\"en-US\", {\n      month: \"long\",\n      day: \"2-digit\",\n      year: \"numeric\",\n    });\n    text = text.replace(/yesterday/gi, formatted);\n  }\n  if (text.toLowerCase().includes(\"last friday\")) {\n    const dayOfWeek = now.getDay();\n    const daysToSubtract = dayOfWeek >= 5 ? dayOfWeek - 5 : dayOfWeek + 2;\n    const lastFriday = new Date();\n    lastFriday.setDate(now.getDate() - daysToSubtract);\n    const formatted = lastFriday.toLocaleDateString(\"en-US\", {\n      month: \"long\",\n      day: \"2-digit\",\n      year: \"numeric\",\n    });\n    text = text.replace(/last friday/gi, formatted);\n  }\n  return text;\n}\n\n/**\n * Parses ALI's response. If it contains \"OPTIONS:EMPLOYEELIST\",\n * we'll treat that as a special inline employee selector.\n * Otherwise, we do normal \"OPTIONS:\" logic or no options at all.\n */\nfunction processAliResponse(response: string) {\n  let processed = response.replace(\"Thank you for providing the time.\", \"\").trim();\n  processed = convertRelativeDates(processed);\n\n  // 1) Special check for employee-list request\n  if (processed.includes(\"EMPLOYEELIST\")) {\n    const parts = processed.split(\"EMPLOYEELIST\");\n    const mainMessage = parts[0].trim();\n    return {\n      text: trimTrailingAsterisks(mainMessage),\n      // We'll store a single \"EMPLOYEELIST\" in the options\n      options: [\"EMPLOYEELIST\"]\n    };\n  }\n\n  // 2) Normal \"OPTIONS:\" logic\n  if (processed.includes(\"OPTIONS:\")) {\n    const [main, rawOpts] = processed.split(\"OPTIONS:\");\n    const optionsArr = rawOpts.split(\"|\").map((o) => o.trim());\n    return {\n      text: trimTrailingAsterisks(main),\n      options: optionsArr,\n    };\n  }\n\n  // 3) No special marker => no options\n  return { text: trimTrailingAsterisks(processed), options: [] };\n}\n\n//\n// MAIN COMPONENT\n//\nexport default function AskAli() {\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Track conversation\n  const [conversationId, setConversationId] = useState<string>(() => {\n    if (typeof window !== \"undefined\") {\n      return localStorage.getItem(\"conversationId\") || \"\";\n    }\n    return \"\";\n  });\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [messageText, setMessageText] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  // Conversation list\n  const [conversationList, setConversationList] = useState<Conversation[]>([]);\n  const [editingConversationId, setEditingConversationId] = useState<string | null>(null);\n  const [editingTitle, setEditingTitle] = useState<string>(\"\");\n\n  // For auto-scroll\n  const chatEndRef = useRef<HTMLDivElement>(null);\n  // For aborting fetch\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  //\n  // On mount\n  //\n  useEffect(() => {\n    // Detect dark mode\n    setDarkMode(window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n    // Load conversation list\n    fetchConversations();\n  }, []);\n\n  // Auto-scroll\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  //\n  // Fetch conversation list\n  //\n  const fetchConversations = async () => {\n    try {\n      const res = await fetch(`${conversationApiUrl}/conversations?tenantId=tenant-1&userId=user-guest`);\n      if (res.ok) {\n        const data = await res.json();\n        if (Array.isArray(data)) {\n          setConversationList(data);\n        }\n      }\n    } catch (err) {\n      console.error(\"Error fetching conversation list:\", err);\n    }\n  };\n\n  //\n  // Fetch messages for a given conversation\n  //\n  const fetchMessagesForConversation = async (convId: string) => {\n    try {\n      const url = `${conversationApiUrl}/messages?conversationId=${encodeURIComponent(convId)}&tenantId=tenant-1&userId=user-guest`;\n      const res = await fetch(url, { method: \"GET\" });\n      if (res.ok) {\n        const data = await res.json();\n        const fetched = Array.isArray(data) ? data : [];\n        const converted = fetched.map((item: any) => ({\n          role: item.role === \"assistant\" ? \"ali\" : item.role,\n          text: item.content || \"\",\n          options: item.options || [],\n        }));\n        setMessages(converted);\n      } else if (res.status === 404) {\n        setMessages([]);\n      } else {\n        console.error(\"Error fetching messages, status:\", res.status);\n      }\n    } catch (err) {\n      console.error(\"Error fetching messages:\", err);\n    }\n  };\n\n  //\n  // Selecting a conversation from left sidebar\n  //\n  const handleConversationSelect = (conv: Conversation) => {\n    setConversationId(conv.conversationId);\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"conversationId\", conv.conversationId);\n    }\n    setMessages([]);\n    if (conv.conversationId.trim()) {\n      fetchMessagesForConversation(conv.conversationId);\n    }\n  };\n\n  //\n  // Send user message\n  //\n  const sendMessage = async (text: string) => {\n    if (!text.trim() || isProcessing) return;\n\n    const abortController = new AbortController();\n    abortControllerRef.current = abortController;\n    const signal = abortController.signal;\n\n    // Add user message locally\n    setMessages((prev) => [...prev, { role: \"user\", text }]);\n    setIsProcessing(true);\n\n    try {\n      const res = await fetch(`${conversationApiUrl}/messages`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        signal,\n        body: JSON.stringify({\n          conversationId: conversationId || undefined,\n          text,\n          tenantId: \"tenant-1\",\n          userId: \"user-guest\",\n        }),\n      });\n      if (res.ok) {\n        const data = await res.json();\n        // If new conversation was created, update state & reload list\n        if (data.conversationId && data.conversationId !== conversationId) {\n          setConversationId(data.conversationId);\n          localStorage.setItem(\"conversationId\", data.conversationId);\n          fetchConversations();\n        }\n        // Parse AI response\n        const parsed = processAliResponse(data.reply || \"\");\n        setMessages((prev) => [\n          ...prev,\n          { role: \"ali\", text: parsed.text, options: parsed.options }\n        ]);\n      } else {\n        const errText = await res.text();\n        console.error(\"Error from ALI:\", errText);\n      }\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n    }\n    setIsProcessing(false);\n    setMessageText(\"\");\n  };\n\n  const handleSend = () => {\n    sendMessage(messageText);\n  };\n\n  const stop = () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n      setIsProcessing(false);\n    }\n  };\n\n  //\n  // Handling user clicks on AI-provided options\n  //\n  const handleOptionClick = (option: string) => {\n    sendMessage(option);\n  };\n\n  //\n  // Conversation rename logic\n  //\n  const handleEditingStart = (conv: Conversation) => {\n    setEditingConversationId(conv.conversationId);\n    setEditingTitle(conv.title);\n  };\n  const handleRenameKeyDown = (e: KeyboardEvent<HTMLInputElement>, convId: string) => {\n    if (e.key === \"Enter\") {\n      renameConversation(convId, editingTitle);\n      setEditingConversationId(null);\n    }\n  };\n  const renameConversation = async (convId: string, newTitle: string) => {\n    try {\n      await fetch(`${conversationApiUrl}/conversations/${convId}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          title: newTitle,\n          tenantId: \"tenant-1\",\n          userId: \"user-guest\",\n        }),\n      });\n      fetchConversations();\n    } catch (err) {\n      console.error(\"Error renaming conversation:\", err);\n    }\n  };\n  const handleDeleteConversation = async (convId: string) => {\n    try {\n      await fetch(`${conversationApiUrl}/conversations/${convId}`, {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          tenantId: \"tenant-1\",\n          userId: \"user-guest\",\n        }),\n      });\n      fetchConversations();\n    } catch (err) {\n      console.error(\"Error deleting conversation:\", err);\n    }\n  };\n\n  //\n  // RENDER\n  //\n  return (\n    <>\n      <Head>\n        <title>Ask ALI</title>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\"\n        />\n      </Head>\n\n      <div style={{ display: \"flex\", height: \"100vh\" }}>\n        {/* LEFT SIDEBAR: Conversation History */}\n        <div\n          style={{\n            width: 250,\n            backgroundColor: \"var(--secondary-background-color)\",\n            overflowY: \"auto\",\n          }}\n        >\n          <ConversationHistory\n            conversationList={conversationList}\n            editingConversationId={editingConversationId}\n            editingTitle={editingTitle}\n            onSelect={handleConversationSelect}\n            onEditingStart={handleEditingStart}\n            onRename={renameConversation}\n            onRenameKeyDown={handleRenameKeyDown}\n            onTitleChange={(newTitle: string) => setEditingTitle(newTitle)}\n            onDelete={handleDeleteConversation}\n          />\n        </div>\n\n        {/* RIGHT PANE: Chat Area */}\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            flexDirection: \"column\",\n            backgroundColor: darkMode ? \"#222\" : \"#f7f7f7\",\n          }}\n        >\n          {/* If no messages, show initial category selection */}\n          {messages.length === 0 ? (\n            <div\n              style={{\n                flex: 1,\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <div style={{ textAlign: \"center\" }}>\n                <h2\n                  style={{\n                    fontSize: \"1.5rem\",\n                    marginBottom: 16,\n                    color: darkMode ? \"#fff\" : \"#000\",\n                  }}\n                >\n                  What can I help with?\n                </h2>\n                <div style={{ display: \"inline-flex\", gap: \"1rem\" }}>\n                  <button\n                    onClick={() => sendMessage(\"I need to start a new employee discipline incident.\")}\n                    style={{\n                      padding: \"8px 16px\",\n                      borderRadius: \"20px\",\n                      border: darkMode ? \"1px solid #666\" : \"1px solid #ccc\",\n                      backgroundColor: \"transparent\",\n                      cursor: \"pointer\",\n                      color: darkMode ? \"#fff\" : \"#171717\",\n                    }}\n                  >\n                    <i className=\"fa-solid fa-user-shield\" style={{ marginRight: 8 }} />\n                    Employee Discipline\n                  </button>\n                  <button\n                    onClick={() => sendMessage(\"I need to start a new harassment or discrimination incident.\")}\n                    style={{\n                      padding: \"8px 16px\",\n                      borderRadius: \"20px\",\n                      border: darkMode ? \"1px solid #666\" : \"1px solid #ccc\",\n                      backgroundColor: \"transparent\",\n                      cursor: \"pointer\",\n                      color: darkMode ? \"#fff\" : \"#171717\",\n                    }}\n                  >\n                    <i className=\"fa-solid fa-user\" style={{ marginRight: 8 }} />\n                    Harassment/Discrimination\n                  </button>\n                  <button\n                    onClick={() => sendMessage(\"I need some general HR consultation.\")}\n                    style={{\n                      padding: \"8px 16px\",\n                      borderRadius: \"20px\",\n                      border: darkMode ? \"1px solid #666\" : \"1px solid #ccc\",\n                      backgroundColor: \"transparent\",\n                      cursor: \"pointer\",\n                      color: darkMode ? \"#fff\" : \"#171717\",\n                    }}\n                  >\n                    <i className=\"fa-solid fa-comments\" style={{ marginRight: 8 }} />\n                    General HR Consultation\n                  </button>\n                </div>\n              </div>\n            </div>\n          ) : (\n            // Chat messages\n            <div\n              style={{\n                flex: 1,\n                overflowY: \"auto\",\n                padding: 16,\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\"\n              }}\n            >\n              <div style={{ maxWidth: 800, width: \"100%\" }}>\n                {messages.map((msg, index) => (\n                  <div\n                    key={index}\n                    style={{\n                      marginBottom: 12,\n                      textAlign: msg.role === \"user\" ? \"right\" : \"left\"\n                    }}\n                  >\n                    <div\n                      style={{\n                        display: \"inline-block\",\n                        padding: 12,\n                        borderRadius: 8,\n                        backgroundColor:\n                          msg.role === \"user\"\n                            ? darkMode\n                              ? \"#333\"\n                              : \"#e0e0e0\"\n                            : \"transparent\",\n                        color: darkMode ? \"#fff\" : \"#000\",\n                      }}\n                    >\n                      <ReactMarkdown>{msg.text}</ReactMarkdown>\n                    </div>\n\n                    {/* If we have options */}\n                    {msg.options && msg.options.length > 0 && (\n                      msg.options.includes(\"EMPLOYEELIST\") ? (\n                        // Inline employee selector\n                        <EmployeeSelector\n                          darkMode={darkMode}\n                          onSelect={(empName: string) => {\n                            // user picks an employee -> treat as user message\n                            handleOptionClick(empName);\n                          } } onClose={function (): void {\n                            throw new Error(\"Function not implemented.\");\n                          } }                        />\n                      ) : (\n                        // Normal OptionButtons\n                        <OptionButtons\n                          options={msg.options}\n                          onSelected={handleOptionClick}\n                          darkMode={darkMode}\n                        />\n                      )\n                    )}\n                  </div>\n                ))}\n                <div ref={chatEndRef} />\n              </div>\n            </div>\n          )}\n\n          {/* Message Input Field */}\n          <MessageInput\n            messageText={messageText}\n            setMessageText={setMessageText}\n            isProcessing={isProcessing}\n            onSend={handleSend}\n            stop={stop}\n          />\n        </div>\n      </div>\n    </>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAMA;AAGA;AACA;AACA;AACA;AALA;;;AATA;;;;;;;;AAyBA,EAAE;AACF,eAAe;AACf,EAAE;AACF,MAAM,qBAAqB;AAE3B,EAAE;AACF,mBAAmB;AACnB,EAAE;AACF,SAAS,sBAAsB,IAAY;IACzC,OAAO,KAAK,OAAO,CAAC,QAAQ,IAAI,IAAI;AACtC;AAEA,SAAS,qBAAqB,IAAY;IACxC,MAAM,MAAM,IAAI;IAChB,IAAI,KAAK,WAAW,GAAG,QAAQ,CAAC,cAAc;QAC5C,MAAM,YAAY,IAAI;QACtB,UAAU,OAAO,CAAC,IAAI,OAAO,KAAK;QAClC,MAAM,YAAY,UAAU,kBAAkB,CAAC,SAAS;YACtD,OAAO;YACP,KAAK;YACL,MAAM;QACR;QACA,OAAO,KAAK,OAAO,CAAC,eAAe;IACrC;IACA,IAAI,KAAK,WAAW,GAAG,QAAQ,CAAC,gBAAgB;QAC9C,MAAM,YAAY,IAAI,MAAM;QAC5B,MAAM,iBAAiB,aAAa,IAAI,YAAY,IAAI,YAAY;QACpE,MAAM,aAAa,IAAI;QACvB,WAAW,OAAO,CAAC,IAAI,OAAO,KAAK;QACnC,MAAM,YAAY,WAAW,kBAAkB,CAAC,SAAS;YACvD,OAAO;YACP,KAAK;YACL,MAAM;QACR;QACA,OAAO,KAAK,OAAO,CAAC,iBAAiB;IACvC;IACA,OAAO;AACT;AAEA;;;;CAIC,GACD,SAAS,mBAAmB,QAAgB;IAC1C,IAAI,YAAY,SAAS,OAAO,CAAC,qCAAqC,IAAI,IAAI;IAC9E,YAAY,qBAAqB;IAEjC,6CAA6C;IAC7C,IAAI,UAAU,QAAQ,CAAC,iBAAiB;QACtC,MAAM,QAAQ,UAAU,KAAK,CAAC;QAC9B,MAAM,cAAc,KAAK,CAAC,EAAE,CAAC,IAAI;QACjC,OAAO;YACL,MAAM,sBAAsB;YAC5B,qDAAqD;YACrD,SAAS;gBAAC;aAAe;QAC3B;IACF;IAEA,6BAA6B;IAC7B,IAAI,UAAU,QAAQ,CAAC,aAAa;QAClC,MAAM,CAAC,MAAM,QAAQ,GAAG,UAAU,KAAK,CAAC;QACxC,MAAM,aAAa,QAAQ,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI;QACvD,OAAO;YACL,MAAM,sBAAsB;YAC5B,SAAS;QACX;IACF;IAEA,qCAAqC;IACrC,OAAO;QAAE,MAAM,sBAAsB;QAAY,SAAS,EAAE;IAAC;AAC/D;AAKe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,qBAAqB;IACrB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;2BAAU;YAC3D,wCAAmC;gBACjC,OAAO,aAAa,OAAO,CAAC,qBAAqB;YACnD;;QAEF;;IACA,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,oBAAoB;IACpB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IAC3E,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClF,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAEzD,kBAAkB;IAClB,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAC1C,qBAAqB;IACrB,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAA0B;IAE1D,EAAE;IACF,WAAW;IACX,EAAE;IACF,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACR,mBAAmB;YACnB,YAAY,OAAO,UAAU,CAAC,gCAAgC,OAAO;YACrE,yBAAyB;YACzB;QACF;2BAAG,EAAE;IAEL,cAAc;IACd,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACR,WAAW,OAAO,EAAE,eAAe;gBAAE,UAAU;YAAS;QAC1D;2BAAG;QAAC;KAAS;IAEb,EAAE;IACF,0BAA0B;IAC1B,EAAE;IACF,MAAM,qBAAqB;QACzB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,mBAAmB,kDAAkD,CAAC;YACjG,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,MAAM,OAAO,CAAC,OAAO;oBACvB,oBAAoB;gBACtB;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,qCAAqC;QACrD;IACF;IAEA,EAAE;IACF,0CAA0C;IAC1C,EAAE;IACF,MAAM,+BAA+B,OAAO;QAC1C,IAAI;YACF,MAAM,MAAM,GAAG,mBAAmB,yBAAyB,EAAE,mBAAmB,QAAQ,oCAAoC,CAAC;YAC7H,MAAM,MAAM,MAAM,MAAM,KAAK;gBAAE,QAAQ;YAAM;YAC7C,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,MAAM,UAAU,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;gBAC/C,MAAM,YAAY,QAAQ,GAAG,CAAC,CAAC,OAAc,CAAC;wBAC5C,MAAM,KAAK,IAAI,KAAK,cAAc,QAAQ,KAAK,IAAI;wBACnD,MAAM,KAAK,OAAO,IAAI;wBACtB,SAAS,KAAK,OAAO,IAAI,EAAE;oBAC7B,CAAC;gBACD,YAAY;YACd,OAAO,IAAI,IAAI,MAAM,KAAK,KAAK;gBAC7B,YAAY,EAAE;YAChB,OAAO;gBACL,QAAQ,KAAK,CAAC,oCAAoC,IAAI,MAAM;YAC9D;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC5C;IACF;IAEA,EAAE;IACF,6CAA6C;IAC7C,EAAE;IACF,MAAM,2BAA2B,CAAC;QAChC,kBAAkB,KAAK,cAAc;QACrC,wCAAmC;YACjC,aAAa,OAAO,CAAC,kBAAkB,KAAK,cAAc;QAC5D;QACA,YAAY,EAAE;QACd,IAAI,KAAK,cAAc,CAAC,IAAI,IAAI;YAC9B,6BAA6B,KAAK,cAAc;QAClD;IACF;IAEA,EAAE;IACF,oBAAoB;IACpB,EAAE;IACF,MAAM,cAAc,OAAO;QACzB,IAAI,CAAC,KAAK,IAAI,MAAM,cAAc;QAElC,MAAM,kBAAkB,IAAI;QAC5B,mBAAmB,OAAO,GAAG;QAC7B,MAAM,SAAS,gBAAgB,MAAM;QAErC,2BAA2B;QAC3B,YAAY,CAAC,OAAS;mBAAI;gBAAM;oBAAE,MAAM;oBAAQ;gBAAK;aAAE;QACvD,gBAAgB;QAEhB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,mBAAmB,SAAS,CAAC,EAAE;gBACxD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,gBAAgB,kBAAkB;oBAClC;oBACA,UAAU;oBACV,QAAQ;gBACV;YACF;YACA,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,8DAA8D;gBAC9D,IAAI,KAAK,cAAc,IAAI,KAAK,cAAc,KAAK,gBAAgB;oBACjE,kBAAkB,KAAK,cAAc;oBACrC,aAAa,OAAO,CAAC,kBAAkB,KAAK,cAAc;oBAC1D;gBACF;gBACA,oBAAoB;gBACpB,MAAM,SAAS,mBAAmB,KAAK,KAAK,IAAI;gBAChD,YAAY,CAAC,OAAS;2BACjB;wBACH;4BAAE,MAAM;4BAAO,MAAM,OAAO,IAAI;4BAAE,SAAS,OAAO,OAAO;wBAAC;qBAC3D;YACH,OAAO;gBACL,MAAM,UAAU,MAAM,IAAI,IAAI;gBAC9B,QAAQ,KAAK,CAAC,mBAAmB;YACnC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C;QACA,gBAAgB;QAChB,eAAe;IACjB;IAEA,MAAM,aAAa;QACjB,YAAY;IACd;IAEA,MAAM,OAAO;QACX,IAAI,mBAAmB,OAAO,EAAE;YAC9B,mBAAmB,OAAO,CAAC,KAAK;YAChC,gBAAgB;QAClB;IACF;IAEA,EAAE;IACF,8CAA8C;IAC9C,EAAE;IACF,MAAM,oBAAoB,CAAC;QACzB,YAAY;IACd;IAEA,EAAE;IACF,4BAA4B;IAC5B,EAAE;IACF,MAAM,qBAAqB,CAAC;QAC1B,yBAAyB,KAAK,cAAc;QAC5C,gBAAgB,KAAK,KAAK;IAC5B;IACA,MAAM,sBAAsB,CAAC,GAAoC;QAC/D,IAAI,EAAE,GAAG,KAAK,SAAS;YACrB,mBAAmB,QAAQ;YAC3B,yBAAyB;QAC3B;IACF;IACA,MAAM,qBAAqB,OAAO,QAAgB;QAChD,IAAI;YACF,MAAM,MAAM,GAAG,mBAAmB,eAAe,EAAE,QAAQ,EAAE;gBAC3D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,OAAO;oBACP,UAAU;oBACV,QAAQ;gBACV;YACF;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;IACA,MAAM,2BAA2B,OAAO;QACtC,IAAI;YACF,MAAM,MAAM,GAAG,mBAAmB,eAAe,EAAE,QAAQ,EAAE;gBAC3D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;oBACV,QAAQ;gBACV;YACF;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;IAEA,EAAE;IACF,SAAS;IACT,EAAE;IACF,qBACE;;0BACE,6LAAC,uKAAA,CAAA,UAAI;;kCACH,6LAAC;kCAAM;;;;;;kCACP,6LAAC;wBACC,KAAI;wBACJ,MAAK;;;;;;;;;;;;0BAIT,6LAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,QAAQ;gBAAQ;;kCAE7C,6LAAC;wBACC,OAAO;4BACL,OAAO;4BACP,iBAAiB;4BACjB,WAAW;wBACb;kCAEA,cAAA,6LAAC,mJAAA,CAAA,UAAmB;4BAClB,kBAAkB;4BAClB,uBAAuB;4BACvB,cAAc;4BACd,UAAU;4BACV,gBAAgB;4BAChB,UAAU;4BACV,iBAAiB;4BACjB,eAAe,CAAC,WAAqB,gBAAgB;4BACrD,UAAU;;;;;;;;;;;kCAKd,6LAAC;wBACC,OAAO;4BACL,MAAM;4BACN,SAAS;4BACT,eAAe;4BACf,iBAAiB,WAAW,SAAS;wBACvC;;4BAGC,SAAS,MAAM,KAAK,kBACnB,6LAAC;gCACC,OAAO;oCACL,MAAM;oCACN,SAAS;oCACT,gBAAgB;oCAChB,YAAY;gCACd;0CAEA,cAAA,6LAAC;oCAAI,OAAO;wCAAE,WAAW;oCAAS;;sDAChC,6LAAC;4CACC,OAAO;gDACL,UAAU;gDACV,cAAc;gDACd,OAAO,WAAW,SAAS;4CAC7B;sDACD;;;;;;sDAGD,6LAAC;4CAAI,OAAO;gDAAE,SAAS;gDAAe,KAAK;4CAAO;;8DAChD,6LAAC;oDACC,SAAS,IAAM,YAAY;oDAC3B,OAAO;wDACL,SAAS;wDACT,cAAc;wDACd,QAAQ,WAAW,mBAAmB;wDACtC,iBAAiB;wDACjB,QAAQ;wDACR,OAAO,WAAW,SAAS;oDAC7B;;sEAEA,6LAAC;4DAAE,WAAU;4DAA0B,OAAO;gEAAE,aAAa;4DAAE;;;;;;wDAAK;;;;;;;8DAGtE,6LAAC;oDACC,SAAS,IAAM,YAAY;oDAC3B,OAAO;wDACL,SAAS;wDACT,cAAc;wDACd,QAAQ,WAAW,mBAAmB;wDACtC,iBAAiB;wDACjB,QAAQ;wDACR,OAAO,WAAW,SAAS;oDAC7B;;sEAEA,6LAAC;4DAAE,WAAU;4DAAmB,OAAO;gEAAE,aAAa;4DAAE;;;;;;wDAAK;;;;;;;8DAG/D,6LAAC;oDACC,SAAS,IAAM,YAAY;oDAC3B,OAAO;wDACL,SAAS;wDACT,cAAc;wDACd,QAAQ,WAAW,mBAAmB;wDACtC,iBAAiB;wDACjB,QAAQ;wDACR,OAAO,WAAW,SAAS;oDAC7B;;sEAEA,6LAAC;4DAAE,WAAU;4DAAuB,OAAO;gEAAE,aAAa;4DAAE;;;;;;wDAAK;;;;;;;;;;;;;;;;;;;;;;;uCAOzE,gBAAgB;0CAChB,6LAAC;gCACC,OAAO;oCACL,MAAM;oCACN,WAAW;oCACX,SAAS;oCACT,SAAS;oCACT,eAAe;oCACf,YAAY;gCACd;0CAEA,cAAA,6LAAC;oCAAI,OAAO;wCAAE,UAAU;wCAAK,OAAO;oCAAO;;wCACxC,SAAS,GAAG,CAAC,CAAC,KAAK,sBAClB,6LAAC;gDAEC,OAAO;oDACL,cAAc;oDACd,WAAW,IAAI,IAAI,KAAK,SAAS,UAAU;gDAC7C;;kEAEA,6LAAC;wDACC,OAAO;4DACL,SAAS;4DACT,SAAS;4DACT,cAAc;4DACd,iBACE,IAAI,IAAI,KAAK,SACT,WACE,SACA,YACF;4DACN,OAAO,WAAW,SAAS;wDAC7B;kEAEA,cAAA,6LAAC,2LAAA,CAAA,UAAa;sEAAE,IAAI,IAAI;;;;;;;;;;;oDAIzB,IAAI,OAAO,IAAI,IAAI,OAAO,CAAC,MAAM,GAAG,KAAK,CACxC,IAAI,OAAO,CAAC,QAAQ,CAAC,kBACnB,2BAA2B;kEAC3B,6LAAC,gJAAA,CAAA,UAAgB;wDACf,UAAU;wDACV,UAAU,CAAC;4DACT,kDAAkD;4DAClD,kBAAkB;wDACpB;wDAAI,SAAS;4DACX,MAAM,IAAI,MAAM;wDAClB;;;;;+DAEF,uBAAuB;kEACvB,6LAAC,6IAAA,CAAA,UAAa;wDACZ,SAAS,IAAI,OAAO;wDACpB,YAAY;wDACZ,UAAU;;;;;4DAGhB;;+CA3CK;;;;;sDA8CT,6LAAC;4CAAI,KAAK;;;;;;;;;;;;;;;;;0CAMhB,6LAAC,4IAAA,CAAA,UAAY;gCACX,aAAa;gCACb,gBAAgB;gCAChB,cAAc;gCACd,QAAQ;gCACR,MAAM;;;;;;;;;;;;;;;;;;;;AAMlB;GA9YwB;KAAA"}},
    {"offset": {"line": 2092, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}